import{a as Re}from"./chunk-6N63TQXK.js";import{a as Lt}from"./chunk-2OT6OSOP.js";import{a as Ve}from"./chunk-2PCCNYKX.js";import{a as Nt}from"./chunk-TLUJWQOT.js";import{a as ot,b as rt,v as At,w as qt}from"./chunk-XGAHVREP.js";import{a as be}from"./chunk-EFG5VZTT.js";import{b as R,d as V,e as it,f as $t}from"./chunk-FTOGDGWN.js";import{Aa as o,B as et,Ba as C,C as dt,Ca as h,Da as ee,Db as ce,De as It,Eb as _t,F as w,Ga as F,Gb as ut,Ge as $e,H as ct,Hd as Pt,He as Ae,Ia as S,Ib as oe,Ie as wt,J as st,Ja as Y,Jb as ft,K as M,Ke as Q,L as k,La as x,Le as W,Ma as y,Mb as we,Mc as U,Na as N,Nb as Ct,Oa as me,Oe as Be,Qb as xt,Qd as Ee,Re as A,Sc as _e,Sd as Le,Tc as ue,U as tt,Uc as fe,Ve as L,Wc as Ce,We as Ft,X as l,Xc as xe,Xe as nt,Y as v,Yd as Te,Ye as at,Zc as he,_a as q,_c as ye,aa as c,ab as Me,ad as ve,bd as Se,be as De,ca as u,dd as ge,e as P,ea as te,ga as _,ha as E,he as Pe,ia as T,ib as B,ja as D,ka as a,la as n,le as Z,ma as f,mb as H,mc as ht,na as b,oa as I,ob as ae,oe as Fe,pb as $,pc as se,qa as ie,ra as ne,rc as yt,sa as d,sc as vt,tc as St,uc as gt,vb as pe,vc as Et,vd as K,wa as z,wb as de,wc as Tt,we as ke,xa as O,xe as bt,ya as j,yd as Dt,z as pt,za as le}from"./chunk-YLFXKKOP.js";var lt=(e,i)=>dt(li).canActivate(e,i);var li=(()=>{let i=class i{constructor(r,m){this.authService=r,this.router=m}canActivate(r,m){return this.authService.getUser().hasSystemPrivilege("GetMissionDatabase")?!0:(this.router.navigate(["/403"],{queryParams:{page:m.url}}),!1)}canActivateChild(r,m){return this.canActivate(r,m)}};i.\u0275fac=function(m){return new(m||i)(et(Ft),et(ae))},i.\u0275prov=pt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var ze=class extends pe{constructor(i){super(),this.yamcs=i,this.algorithms$=new P([]),this.totalSize$=new P(0),this.loading$=new P(!1)}connect(){return this.algorithms$}loadAlgorithms(i){return this.loading$.next(!0),this.yamcs.yamcsClient.getAlgorithms(this.yamcs.instance,i).then(t=>{this.loading$.next(!1),this.totalSize$.next(t.totalSize),this.algorithms$.next(t.algorithms||[])})}disconnect(){this.algorithms$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var mi=["top"],pi=e=>["/mdb/algorithms",e],di=e=>({c:e});function ci(e,i){e&1&&(a(0,"th",21),o(1,"Name"),n())}function si(e,i){if(e&1&&(a(0,"td",22)(1,"a",23),f(2,"ya-highlight",24),n()()),e&2){let t=i.$implicit,r=d(2);l(),u("routerLink",S(4,pi,t.qualifiedName))("queryParams",S(6,di,r.yamcs.context)),l(),u("text",r.shortName?t.name:t.qualifiedName)("term",r.filterControl.value)}}function _i(e,i){e&1&&(a(0,"th",21),o(1,"Type"),n())}function ui(e,i){if(e&1&&(a(0,"td",22),o(1),n()),e&2){let t=i.$implicit;l(),C(t.type||"-")}}function fi(e,i){e&1&&(a(0,"th",21),o(1,"Language"),n())}function Ci(e,i){if(e&1&&(a(0,"td",22),o(1),n()),e&2){let t=i.$implicit;l(),C(t.language||"-")}}function xi(e,i){e&1&&(a(0,"th",21),o(1,"Scope"),n())}function hi(e,i){if(e&1&&(a(0,"td",22),o(1),n()),e&2){let t=i.$implicit;l(),C(t.scope||"-")}}function yi(e,i){e&1&&(a(0,"th",21),o(1,"Description"),n())}function vi(e,i){if(e&1&&(a(0,"td",25),o(1),n()),e&2){let t=i.$implicit;l(),h(" ",t.shortDescription||"-"," ")}}function Si(e,i){e&1&&f(0,"th",26)}function gi(e,i){e&1&&f(0,"td",22)}function Ei(e,i){e&1&&f(0,"tr",27)}function Ti(e,i){if(e&1&&f(0,"tr",28),e&2){let t=i.$implicit,r=d(2);te("selected",r.selection.isSelected(t))}}function Di(e,i){if(e&1&&(a(0,"table",7),b(1,9),c(2,ci,2,0,"th",10)(3,si,3,8,"td",11),I(),b(4,12),c(5,_i,2,0,"th",10)(6,ui,2,1,"td",11),I(),b(7,13),c(8,fi,2,0,"th",10)(9,Ci,2,1,"td",11),I(),b(10,14),c(11,xi,2,0,"th",10)(12,hi,2,1,"td",11),I(),b(13,15),c(14,yi,2,0,"th",10)(15,vi,2,1,"td",16),I(),b(16,17),c(17,Si,1,0,"th",18)(18,gi,1,0,"td",11),I(),c(19,Ei,1,0,"tr",19),x(20,"async"),c(21,Ti,1,2,"tr",20),x(22,"async"),n()),e&2){let t=d(),r=le(9);u("dataSource",t.dataSource),l(19),u("matHeaderRowDef",y(20,3,r.displayedColumns$)),l(2),u("matRowDefColumns",y(22,5,r.displayedColumns$))}}function Pi(e,i){if(e&1&&(a(0,"div",3),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any algorithms. "),n()),e&2){let t=d();l(3),C(t.yamcs.instance)}}var Mt=(()=>{let i=class i{constructor(r,m,p,s,g){this.yamcs=r,this.route=p,this.router=s,this.messageService=g,this.shortName=!1,this.pageSize=100,this.filterControl=new oe,this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"language",label:"Language",visible:!0},{id:"scope",label:"Scope",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}],this.selection=new de(!1),m.setTitle("Algorithms"),this.dataSource=new ze(r)}ngAfterViewInit(){let r=this.route.snapshot.queryParamMap;this.filterControl.setValue(r.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),r.has("page")&&(this.paginator.pageIndex=Number(r.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let r={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize},m=this.filterControl.value;m&&(r.q=m.toLowerCase()),this.dataSource.loadAlgorithms(r).then(()=>{this.selection.clear()}).catch(p=>this.messageService.showError(p))}updateURL(){let r=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:r||null},queryParamsHandling:"merge"})}selectNext(){let r=this.dataSource.algorithms$.value,m=0;if(this.selection.hasValue()){let p=this.selection.selected[0];r.indexOf(p)!==-1&&(m=Math.min(r.indexOf(p)+1,r.length-1))}this.selection.select(r[m])}selectPrevious(){let r=this.dataSource.algorithms$.value,m=0;if(this.selection.hasValue()){let p=this.selection.selected[0];r.indexOf(p)!==-1&&(m=Math.max(r.indexOf(p)-1,0))}this.selection.select(r[m])}applySelection(){if(this.selection.hasValue()){let r=this.selection.selected[0];this.dataSource.algorithms$.value.indexOf(r)!==-1&&this.router.navigate(["/mdb/algorithms",r.qualifiedName],{queryParams:{c:this.yamcs.context}})}}};i.\u0275fac=function(m){return new(m||i)(v(A),v(B),v(H),v(ae),v(Te))},i.\u0275cmp=w({type:i,selectors:[["ng-component"]],viewQuery:function(m,p){if(m&1&&(z(mi,7),z(U,7)),m&2){let s;O(s=j())&&(p.top=s.first),O(s=j())&&(p.paginator=s.first)}},standalone:!0,features:[F],decls:15,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter algorithms",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","algorithms",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","language"],["matColumnDef","scope"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap200",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],["mat-cell","",1,"wrap200"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(m,p){if(m&1){let s=ie();a(0,"app-instance-page")(1,"app-instance-toolbar"),o(2,"Algorithms"),n(),f(3,"span",null,0),a(5,"div",3)(6,"div",4)(7,"ya-search-filter",5),ne("onArrowDown",function(){return M(s),k(p.selectNext())})("onArrowUp",function(){return M(s),k(p.selectPrevious())})("onEnter",function(){return M(s),k(p.applySelection())}),n(),f(8,"ya-column-chooser",6,1),n(),c(10,Di,23,7,"table",7),f(11,"mat-paginator",8),x(12,"async"),n(),c(13,Pi,5,1,"ng-template",null,2,me),n()}m&2&&(l(7),u("formControl",p.filterControl),l(),u("columns",p.columns),l(2),_(p.dataSource?10:-1),l(),u("pageSize",p.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",y(12,7,p.dataSource.totalSize$)))},dependencies:[V,R,L,q,ce,we,$,U,_e,fe,ye,Ce,ue,ve,xe,he,Se,ge,K,Ee,De],encapsulation:2,changeDetection:0});let e=i;return e})();var bi=["text"],Ii=(e,i)=>({c:e,filter:i}),Ue=e=>["/mdb/parameters/",e],Qe=e=>({c:e});function wi(e,i){if(e&1&&(a(0,"a",2),o(1),n()),e&2){let t=i,r=d();u("queryParams",Y(2,Ii,r.yamcs.context,t)),l(),h(" ",t," ")}}function Fi(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),C(t.namespace),l(2),C(t.name)}}function Li(e,i){if(e&1&&f(0,"app-markdown",3),e&2){let t=d();u("text",t.algorithm.longDescription)}}function $i(e,i){e&1&&o(0," - ")}function Ai(e,i){e&1&&(f(0,"mat-divider"),a(1,"dl",4)(2,"dt"),o(3,"Text"),n(),a(4,"dd"),f(5,"div",6,0),n()())}function Ni(e,i){if(e&1&&(a(0,"td"),o(1,"Operand"),n(),a(2,"td"),o(3),n()),e&2){let t=d().$implicit;l(3),C(t.value)}}function qi(e,i){if(e&1&&(a(0,"td"),o(1,"Operator"),n(),a(2,"td"),o(3),n()),e&2){let t=d().$implicit;l(3),C(t.operator)}}function Mi(e,i){e&1&&(a(0,"td"),o(1,"Operand"),n(),a(2,"td"),o(3,"this"),n())}function ki(e,i){if(e&1&&(a(0,"td"),o(1,"Operand"),n(),a(2,"td")(3,"a",7),o(4),n()()),e&2){let t=d().$implicit,r=d(2);l(3),u("routerLink",S(3,Ue,t.parameter.qualifiedName))("queryParams",S(5,Qe,r.yamcs.context)),l(),h(" ",t.parameter.qualifiedName," ")}}function Bi(e,i){if(e&1&&(a(0,"tr"),c(1,Ni,4,1)(2,qi,4,1)(3,Mi,4,0)(4,ki,5,7),n()),e&2){let t,r=i.$implicit;l(),_((t=r.type)==="VALUE_OPERAND"?1:t==="OPERATOR"?2:t==="THIS_PARAMETER_OPERAND"?3:t==="PARAMETER"?4:-1)}}function Ri(e,i){if(e&1&&(f(0,"mat-divider"),a(1,"dl",4)(2,"dt"),o(3,"Postfix Expression"),n(),a(4,"dd")(5,"table",5)(6,"tr")(7,"th"),o(8,"Type"),n(),a(9,"th"),o(10,"Value"),n()(),T(11,Bi,5,1,"tr",null,E),n()()()),e&2){let t=d();l(11),D(t.algorithm.mathElements)}}function Vi(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td")(4,"a",8),o(5),n()(),a(6,"td",9),o(7),n(),a(8,"td",9),o(9),n()()),e&2){let t=i.$implicit,r=d(2);l(2),C(t.inputName||"-"),l(2),u("routerLink",S(6,Ue,t.parameter.qualifiedName))("queryParams",S(8,Qe,r.yamcs.context)),l(),h(" ",t.parameter.qualifiedName," "),l(2),h(" ",t.parameterInstance," "),l(2),h(" ",t.mandatory?"Yes":"No"," ")}}function zi(e,i){if(e&1&&(a(0,"table",5)(1,"tr")(2,"th"),o(3,"Input Name"),n(),a(4,"th"),o(5,"Parameter"),n(),a(6,"th"),o(7,"Instance"),n(),a(8,"th"),o(9,"Mandatory"),n()(),T(10,Vi,10,10,"tr",null,E),n()),e&2){let t=d();l(10),D(t.algorithm.inputParameter)}}function Oi(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function ji(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td")(4,"a",8),o(5),n()()()),e&2){let t=i.$implicit,r=d(2);l(2),C(t.outputName||"-"),l(2),u("routerLink",S(4,Ue,t.parameter.qualifiedName))("queryParams",S(6,Qe,r.yamcs.context)),l(),h(" ",t.parameter.qualifiedName," ")}}function Yi(e,i){if(e&1&&(a(0,"table",5)(1,"tr")(2,"th"),o(3,"Output Name"),n(),a(4,"th"),o(5,"Parameter"),n()(),T(6,ji,6,8,"tr",null,E),n()),e&2){let t=d();l(6),D(t.algorithm.outputParameter)}}function Hi(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Ui(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"OnParameterUpdate"),n(),a(3,"td")(4,"a",8),o(5),n()()()),e&2){let t=i.$implicit,r=d();l(4),u("routerLink",S(3,Ue,t.qualifiedName))("queryParams",S(5,Qe,r.yamcs.context)),l(),h(" ",t.qualifiedName," ")}}function Qi(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"OnPeriodicRate"),n(),a(3,"td"),o(4),n()()),e&2){let t=d();l(4),h("",t.algorithm.onPeriodicRate," ms")}}var kt=(()=>{let i=class i{constructor(r){this.yamcs=r}set textContainer(r){let m=[qt,ot.readOnly.of(!0),rt.theme({"&":{height:"300px",fontSize:"12px"},".cm-scroller":{overflow:"auto",fontFamily:"'Roboto Mono', monospace"}},{dark:!1})];switch(this.algorithm.language.toLowerCase()){case"javascript":m.push(At());break;case"python":m.push(Nt());break;default:console.warn(`Unexpected language ${this.algorithm.language}`)}let p=ot.create({doc:this.algorithm.text,extensions:m});new rt({state:p,parent:r.nativeElement})}};i.\u0275fac=function(m){return new(m||i)(v(A))},i.\u0275cmp=w({type:i,selectors:[["app-algorithm-detail"]],viewQuery:function(m,p){if(m&1&&z(bi,5),m&2){let s;O(s=j())&&(p.textContainer=s.first)}},inputs:{algorithm:"algorithm"},standalone:!0,features:[F],decls:66,vars:16,consts:[["text",""],[1,"dl-horizontal","no-lead"],["routerLink","/mdb/algorithms",1,"ya-link",3,"queryParams"],[3,"text"],[1,"dl-horizontal"],["yaDataTable",""],[1,"algorithm-text"],[1,"ya-link",3,"routerLink","queryParams"],[3,"routerLink","queryParams"],[2,"text-align","center"]],template:function(m,p){if(m&1&&(a(0,"dl",1)(1,"dt"),o(2,"Algorithm"),n(),a(3,"dd"),o(4),x(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,wi,2,5,"a",2),x(10,"spaceSystemName"),n(),T(11,Fi,4,2,null,null,E),a(13,"dt"),o(14,"Short Description"),n(),a(15,"dd"),o(16),n(),a(17,"dt"),o(18,"Long Description"),n(),a(19,"dd"),c(20,Li,1,1,"app-markdown",3)(21,$i,1,0),n()(),f(22,"mat-divider"),a(23,"dl",4)(24,"dt"),o(25,"Scope"),n(),a(26,"dd"),o(27),n(),a(28,"dt"),o(29,"Type"),n(),a(30,"dd"),o(31),n(),a(32,"dt"),o(33,"Language"),n(),a(34,"dd"),o(35),n()(),c(36,Ai,7,0)(37,Ri,13,0),f(38,"mat-divider"),a(39,"dl",4)(40,"dt"),o(41,"Input Parameters"),n(),a(42,"dd"),c(43,zi,12,0,"table",5)(44,Oi,2,0,"span"),n()(),f(45,"mat-divider"),a(46,"dl",4)(47,"dt"),o(48,"Output Parameters"),n(),a(49,"dd"),c(50,Yi,8,0,"table",5)(51,Hi,2,0,"span"),n()(),f(52,"mat-divider"),a(53,"dl",4)(54,"dt"),o(55,"Triggers"),n(),a(56,"dd")(57,"table",5)(58,"tr")(59,"th"),o(60,"Type"),n(),a(61,"th"),o(62,"Value"),n()(),T(63,Ui,6,7,"tr",null,E),c(65,Qi,5,1,"tr"),n()()()),m&2){let s;l(4),C(y(5,12,p.algorithm.qualifiedName)),l(5),_((s=y(10,14,p.algorithm.qualifiedName))?9:-1,s),l(2),D(p.algorithm.alias),l(5),C(p.algorithm.shortDescription||"-"),l(4),_(p.algorithm.longDescription?20:21),l(7),C(p.algorithm.scope||"-"),l(4),C(p.algorithm.type||"-"),l(4),C(p.algorithm.language||"-"),l(),_(p.algorithm.text?36:-1),l(),_(p.algorithm.mathElements?37:-1),l(6),_(p.algorithm.inputParameter?43:44),l(7),_(p.algorithm.outputParameter?50:51),l(13),D(p.algorithm.onParameterUpdate),l(2),_(p.algorithm.onPeriodicRate?65:-1)}},dependencies:[be,L,$,Z,se,Q,W],styles:["code[_ngcontent-%COMP%]{display:block;background-color:#fafafa;padding:1em;font-size:10px;border:1px solid #d3d3d3;white-space:pre}.algorithm-text[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12)}"],changeDetection:0});let e=i;return e})();var Wi=(e,i)=>({c:e,filter:i});function Gi(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),x(3,"shortName"),f(4,"ya-title-copy",3)),e&2){let t=i,r=d(),m=d();u("queryParams",Y(6,Wi,m.yamcs.context,t)),l(),h(" ",t," "),l(),h("/",y(3,4,r.qualifiedName)," "),l(2),u("text",r.qualifiedName)}}function Ki(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,Gi,5,9),x(3,"spaceSystemName"),n(),a(4,"div",0),f(5,"app-algorithm-detail",1),n()()),e&2){let t,r=i;l(2),_((t=y(3,2,r.qualifiedName))?2:-1,t),l(3),u("algorithm",r)}}var Bt=(()=>{let i=class i{constructor(r,m,p){this.yamcs=m;let s=r.snapshot.paramMap.get("qualifiedName");this.algorithm$=m.yamcsClient.getAlgorithm(this.yamcs.instance,s),this.algorithm$.then(g=>{p.setTitle(g.name)})}};i.\u0275fac=function(m){return new(m||i)(v(H),v(A),v(B))},i.\u0275cmp=w({type:i,selectors:[["ng-component"]],standalone:!0,features:[F],decls:2,vars:3,consts:[[1,"panel-content"],[3,"algorithm"],["routerLink","/mdb/algorithms",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(m,p){if(m&1&&(c(0,Ki,6,4,"app-instance-page"),x(1,"async")),m&2){let s;_((s=y(1,1,p.algorithm$))?0:-1,s)}},dependencies:[kt,V,R,L,q,$,Pe,Q,W],encapsulation:2,changeDetection:0});let e=i;return e})();var We=class extends pe{constructor(i){super(),this.yamcs=i,this.commands$=new P([]),this.totalSize$=new P(0),this.loading$=new P(!1)}connect(){return this.commands$}loadCommands(i){return this.loading$.next(!0),this.yamcs.yamcsClient.getCommands(this.yamcs.instance,i).then(t=>{this.loading$.next(!1),this.totalSize$.next(t.totalSize),this.commands$.next(t.commands||[])})}getAliasNamespaces(){let i=[];for(let t of this.commands$.value)if(t.alias)for(let r of t.alias)r.namespace&&i.indexOf(r.namespace)===-1&&i.push(r.namespace);return i.sort()}disconnect(){this.commands$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var Xi=["top"],Ji=e=>["/mdb/commands",e],Zi=e=>({c:e});function en(e,i){e&1&&(a(0,"th",21),o(1,"Significance"),n())}function tn(e,i){if(e&1&&f(0,"app-significance-level",23),e&2){let t=d().$implicit;u("level",t.significance.consequenceLevel)}}function nn(e,i){e&1&&o(0," - ")}function an(e,i){if(e&1&&(a(0,"td",22),c(1,tn,1,1,"app-significance-level",23)(2,nn,1,0),n()),e&2){let t=i.$implicit;l(),_(t.significance?1:2)}}function on(e,i){e&1&&(a(0,"th",21),o(1,"Name"),n())}function rn(e,i){if(e&1&&(a(0,"td",22)(1,"a",24),f(2,"ya-highlight",25),n()()),e&2){let t=i.$implicit,r=d(2);l(),u("routerLink",S(4,Ji,t.qualifiedName))("queryParams",S(6,Zi,r.yamcs.context)),l(),u("text",r.shortName?t.name:t.qualifiedName)("term",r.filterControl.value)}}function ln(e,i){e&1&&(a(0,"th",21),o(1,"Abstract"),n())}function mn(e,i){if(e&1&&(a(0,"td",22),o(1),n()),e&2){let t=i.$implicit;l(),h(" ",t.abstract?"Yes":"-"," ")}}function pn(e,i){e&1&&(a(0,"th",21),o(1,"Description"),n())}function dn(e,i){if(e&1&&f(0,"ya-highlight",25),e&2){let t=d(3);u("text",i)("term",t.filterControl.value)}}function cn(e,i){e&1&&o(0," - ")}function sn(e,i){if(e&1&&(a(0,"td",26),c(1,dn,1,2,"ya-highlight",25)(2,cn,1,0),n()),e&2){let t,r=i.$implicit;l(),_((t=r.shortDescription)?1:2,t)}}function _n(e,i){if(e&1&&(a(0,"th",21),o(1),n()),e&2){let t=d().$implicit;l(),h(" ",t.label," ")}}function un(e,i){if(e&1&&f(0,"ya-highlight",25),e&2){let t=d(4);u("text",i)("term",t.filterControl.value)}}function fn(e,i){e&1&&o(0," - ")}function Cn(e,i){if(e&1&&(a(0,"td",22),c(1,un,1,2,"ya-highlight",25),x(2,"alias"),c(3,fn,1,0),n()),e&2){let t,r=i.$implicit,m=d().$implicit;l(),_((t=N(2,1,r,m.id))?1:3,t)}}function xn(e,i){if(e&1&&(b(0,16),c(1,_n,2,1,"th",10)(2,Cn,4,4,"td",11),I()),e&2){let t=i.$implicit;u("matColumnDef",t.id)}}function hn(e,i){e&1&&f(0,"th",27)}function yn(e,i){e&1&&f(0,"td",22)}function vn(e,i){e&1&&f(0,"tr",28)}function Sn(e,i){if(e&1&&f(0,"tr",29),e&2){let t=i.$implicit,r=d(2);te("selected",r.selection.isSelected(t))}}function gn(e,i){if(e&1&&(a(0,"table",7),b(1,9),c(2,en,2,0,"th",10)(3,an,3,1,"td",11),I(),b(4,12),c(5,on,2,0,"th",10)(6,rn,3,8,"td",11),I(),b(7,13),c(8,ln,2,0,"th",10)(9,mn,2,1,"td",11),I(),b(10,14),c(11,pn,2,0,"th",10)(12,sn,3,1,"td",15),I(),T(13,xn,3,1,"ng-container",16,E),x(15,"async"),b(16,17),c(17,hn,1,0,"th",18)(18,yn,1,0,"td",11),I(),c(19,vn,1,0,"tr",19),x(20,"async"),c(21,Sn,1,2,"tr",20),x(22,"async"),n()),e&2){let t=d(),r=le(9);u("dataSource",t.dataSource),l(13),D(y(15,3,t.aliasColumns$)),l(6),u("matHeaderRowDef",y(20,5,r.displayedColumns$)),l(2),u("matRowDefColumns",y(22,7,r.displayedColumns$))}}function En(e,i){if(e&1&&(a(0,"div",3),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any commands. "),n()),e&2){let t=d();l(3),C(t.yamcs.instance)}}var Rt=(()=>{let i=class i{constructor(r,m,p,s,g){this.yamcs=r,this.route=p,this.router=s,this.messageService=g,this.shortName=!1,this.pageSize=100,this.filterControl=new oe,this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"significance",label:"Significance",visible:!0},{id:"abstract",label:"Abstract",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}],this.aliasColumns$=new P([]),this.selection=new de(!1),m.setTitle("Commands"),this.dataSource=new We(r)}ngAfterViewInit(){let r=this.route.snapshot.queryParamMap;this.filterControl.setValue(r.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),r.has("page")&&(this.paginator.pageIndex=Number(r.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let r={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize,fields:["name","qualifiedName","alias","significance","abstract","shortDescription"]},m=this.filterControl.value;m&&(r.q=m.toLowerCase()),this.dataSource.loadCommands(r).then(()=>{this.selection.clear();for(let s of this.aliasColumns$.value){let g=this.columns.indexOf(s);g!==-1&&this.columns.splice(g,1)}let p=[];for(let s of this.dataSource.getAliasNamespaces()){let g={id:s,label:s,alwaysVisible:!0};p.push(g)}this.columns.splice(1,0,...p),this.aliasColumns$.next(p),this.columnChooser.recalculate(this.columns)}).catch(p=>this.messageService.showError(p))}updateURL(){let r=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:r||null},queryParamsHandling:"merge"})}selectNext(){let r=this.dataSource.commands$.value,m=0;if(this.selection.hasValue()){let p=this.selection.selected[0];r.indexOf(p)!==-1&&(m=Math.min(r.indexOf(p)+1,r.length-1))}this.selection.select(r[m])}selectPrevious(){let r=this.dataSource.commands$.value,m=0;if(this.selection.hasValue()){let p=this.selection.selected[0];r.indexOf(p)!==-1&&(m=Math.max(r.indexOf(p)-1,0))}this.selection.select(r[m])}applySelection(){if(this.selection.hasValue()){let r=this.selection.selected[0];this.dataSource.commands$.value.indexOf(r)!==-1&&this.router.navigate(["/mdb/commands",r.qualifiedName],{queryParams:{c:this.yamcs.context}})}}};i.\u0275fac=function(m){return new(m||i)(v(A),v(B),v(H),v(ae),v(Te))},i.\u0275cmp=w({type:i,selectors:[["ng-component"]],viewQuery:function(m,p){if(m&1&&(z(Xi,7),z(U,7),z(K,5)),m&2){let s;O(s=j())&&(p.top=s.first),O(s=j())&&(p.paginator=s.first),O(s=j())&&(p.columnChooser=s.first)}},standalone:!0,features:[F],decls:15,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter commands",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","mdb-commands",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","significance"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","abstract"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap400",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"level"],[3,"routerLink","queryParams"],[3,"text","term"],["mat-cell","",1,"wrap400"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(m,p){if(m&1){let s=ie();a(0,"app-instance-page")(1,"app-instance-toolbar"),o(2,"Commands"),n(),f(3,"span",null,0),a(5,"div",3)(6,"div",4)(7,"ya-search-filter",5),ne("onArrowDown",function(){return M(s),k(p.selectNext())})("onArrowUp",function(){return M(s),k(p.selectPrevious())})("onEnter",function(){return M(s),k(p.applySelection())}),n(),f(8,"ya-column-chooser",6,1),n(),c(10,gn,23,9,"table",7),f(11,"mat-paginator",8),x(12,"async"),n()(),c(13,En,5,1,"ng-template",null,2,me)}m&2&&(l(7),u("formControl",p.filterControl),l(),u("columns",p.columns),l(2),_(p.dataSource?10:-1),l(),u("pageSize",p.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",y(12,7,p.dataSource.totalSize$)))},dependencies:[V,R,L,q,ce,we,$,U,_e,fe,ye,Ce,ue,ve,xe,he,Se,ge,K,Ee,De,Fe,Re],encapsulation:2,changeDetection:0});let e=i;return e})();function Dn(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td"),o(4),n()()),e&2){let t=i.$implicit;l(2),C(t.value),l(2),C(t.label)}}var Vt=(()=>{let i=class i{constructor(r){this.data=r}};i.\u0275fac=function(m){return new(m||i)(v(yt))},i.\u0275cmp=w({type:i,selectors:[["app-argument-enum-dialog"]],standalone:!0,features:[F],decls:14,vars:0,consts:[["mat-dialog-title",""],["yaDataTable","",2,"width","100%"],["align","end"],["mat-dialog-close","",1,"ya-button"]],template:function(m,p){m&1&&(a(0,"h2",0),o(1,"Enum States"),n(),a(2,"mat-dialog-content")(3,"table",1)(4,"tr")(5,"th"),o(6,"Value"),n(),a(7,"th"),o(8,"Label"),n()(),T(9,Dn,5,2,"tr",null,E),n()(),a(11,"mat-dialog-actions",2)(12,"button",3),o(13,"Close"),n()()),m&2&&(l(9),D(p.data.argument.type.enumValue))},dependencies:[L,Z,St,gt,Tt,Et],encapsulation:2});let e=i;return e})();var Pn=(e,i)=>({c:e,filter:i}),bn=e=>["/mdb/commands/",e],Ge=e=>({c:e}),In=e=>["/mdb/algorithms/",e],wn=e=>["/mdb/containers/",e],Fn=e=>["/mdb/parameters/",e];function Ln(e,i){if(e&1&&(a(0,"a",1),o(1),n()),e&2){let t=i,r=d();u("queryParams",Y(2,Pn,r.yamcs.context,t)),l(),h(" ",t," ")}}function $n(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),C(t.namespace),l(2),C(t.name)}}function An(e,i){if(e&1&&f(0,"app-markdown",2),e&2){let t=d();u("text",t.command.longDescription)}}function Nn(e,i){e&1&&o(0," - ")}function qn(e,i){if(e&1&&(a(0,"dd")(1,"a",5),o(2),n()()),e&2){let t=d();l(),u("routerLink",S(3,bn,t.command.baseCommand.qualifiedName))("queryParams",S(5,Ge,t.yamcs.context)),l(),h(" ",t.command.baseCommand.qualifiedName," ")}}function Mn(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function kn(e,i){if(e&1&&(a(0,"dd"),f(1,"app-significance-level",6),o(2),n()),e&2){let t=d();l(),u("level",t.command.significance.consequenceLevel),l(),h(" ",t.command.significance.reasonForWarning," ")}}function Bn(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function Rn(e,i){if(e&1&&(o(0),f(1,"br")),e&2){let t=i.$implicit;ee(" ",t.name," = ",t.value," ")}}function Vn(e,i){if(e&1&&(a(0,"dd"),T(1,Rn,2,2,"br",null,E),n()),e&2){let t=d();l(),D(t.command.argumentAssignment)}}function zn(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function On(e,i){if(e&1){let t=ie();a(0,"span",9),ne("click",function(){M(t);let m=d().$implicit,p=d(2);return k(p.showEnum(m))}),o(1),n()}if(e&2){let t=d().$implicit;l(),h(" ",t.type.engType," ")}}function jn(e,i){if(e&1&&o(0),e&2){let t=d().$implicit;h(" ",t.type.engType||"-"," ")}}function Yn(e,i){if(e&1&&f(0,"ya-interval",8),e&2){let t=d().$implicit;u("left",t.type.rangeMin)("right",t.type.rangeMax)}}function Hn(e,i){e&1&&o(0," - ")}function Un(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td"),o(4),n(),a(5,"td"),c(6,On,2,1,"span",7)(7,jn,1,1),n(),a(8,"td"),o(9),n(),a(10,"td"),o(11),n(),a(12,"td"),o(13),x(14,"nvl"),n(),a(15,"td"),o(16),n(),a(17,"td"),c(18,Yn,1,2,"ya-interval",8)(19,Hn,1,0),n(),a(20,"td"),o(21),n()()),e&2){let t,r=i.$implicit;l(2),C(r.name||"-"),l(2),C(r.description||"-"),l(2),_(r.type.engType==="enumeration"?6:-1),l(),_(r.type.engType!=="enumeration"?7:-1),l(2),C((t=r.type.signed)!==null&&t!==void 0?t:"-"),l(2),C(r.type.dataEncoding.encoding||"-"),l(2),C(N(14,10,r.type.dataEncoding.sizeInBits,"-")),l(3),h(" ",r.type.dataEncoding.littleEndian?"Little Endian":"Big Endian"," "),l(2),_(r.type.rangeMin||r.type.rangeMax?18:19),l(3),C(r.initialValue||"-")}}function Qn(e,i){if(e&1&&(a(0,"dd")(1,"table",4)(2,"tr")(3,"th"),o(4,"Name"),n(),a(5,"th"),o(6,"Description"),n(),a(7,"th"),o(8,"Type"),n(),a(9,"th"),o(10,"Signed"),n(),a(11,"th"),o(12,"Encoding"),n(),a(13,"th"),o(14,"Size in bits"),n(),a(15,"th"),o(16,"Byte order"),n(),a(17,"th"),o(18,"Range"),n(),a(19,"th"),o(20,"Initial value"),n()(),T(21,Un,22,13,"tr",null,E),n()()),e&2){let t=d();l(21),D(t.command.argument)}}function Wn(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function Gn(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td"),o(4),n()()),e&2){let t=i.$implicit;l(2),C(t.expression),l(2),C(t.timeout||"-")}}function Kn(e,i){if(e&1&&(a(0,"dd")(1,"table",4)(2,"tr")(3,"th"),o(4,"Constraint"),n(),a(5,"th"),o(6,"Timeout"),n()(),T(7,Gn,5,2,"tr",null,E),n()()),e&2){let t=d();l(7),D(t.command.constraint)}}function Xn(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function Jn(e,i){e&1&&o(0," Algorithm ")}function Zn(e,i){e&1&&o(0," Container ")}function ea(e,i){e&1&&o(0," Expression ")}function ta(e,i){if(e&1&&(a(0,"a",10),o(1),n()),e&2){let t=d().$implicit,r=d(2);u("routerLink",S(3,In,t.algorithm.qualifiedName))("queryParams",S(5,Ge,r.yamcs.context)),l(),h(" ",t.algorithm.qualifiedName," ")}}function ia(e,i){if(e&1&&(a(0,"a",10),o(1),n()),e&2){let t=d().$implicit,r=d(2);u("routerLink",S(3,wn,t.container.qualifiedName))("queryParams",S(5,Ge,r.yamcs.context)),l(),h(" ",t.container.qualifiedName," ")}}function na(e,i){if(e&1&&o(0),e&2){let t=d().$implicit;h(" ",t.expression," ")}}function aa(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td"),c(4,Jn,1,0)(5,Zn,1,0)(6,ea,1,0),n(),a(7,"td"),c(8,ta,2,7,"a",10)(9,ia,2,7,"a",10)(10,na,1,1),n(),a(11,"td"),o(12),n(),a(13,"td"),o(14),n(),a(15,"td"),o(16),n(),a(17,"td"),o(18),n(),a(19,"td"),o(20),n()()),e&2){let t=i.$implicit;l(2),C(t.stage),l(2),_(t.algorithm?4:-1),l(),_(t.container?5:-1),l(),_(t.expression?6:-1),l(2),_(t.algorithm?8:-1),l(),_(t.container?9:-1),l(),_(t.expression?10:-1),l(2),ee(" [",t.checkWindow.timeToStartChecking||"0",",",t.checkWindow.timeToStopChecking||"0","] "),l(2),C(t.checkWindow.relativeTo),l(2),C(t.onSuccess||"-"),l(2),C(t.onFail||"-"),l(2),C(t.onTimeout||"-")}}function oa(e,i){if(e&1&&(a(0,"table",4)(1,"tr")(2,"th"),o(3,"Stage"),n(),a(4,"th"),o(5,"Type"),n(),a(6,"th"),o(7,"Ref"),n(),a(8,"th"),o(9,"Check window"),n(),a(10,"th"),o(11,"Relative to"),n(),a(12,"th"),o(13,"On success"),n(),a(14,"th"),o(15,"On fail"),n(),a(16,"th"),o(17,"On timeout"),n()(),T(18,aa,21,13,"tr",null,E),n()),e&2){let t=d();l(18),D(t.command.verifier)}}function ra(e,i){e&1&&o(0," - ")}function la(e,i){if(e&1&&(a(0,"td"),o(1,"Argument"),n(),a(2,"td"),o(3),n(),a(4,"td"),o(5),n()),e&2){let t=d().$implicit;l(3),C(t.argument.name),l(2),C(t.argument.type.dataEncoding.sizeInBits)}}function ma(e,i){if(e&1&&(a(0,"td"),o(1,"Parameter"),n(),a(2,"td")(3,"a",10),o(4),n()(),a(5,"td"),o(6),n()),e&2){let t,r=d().$implicit,m=d(2);l(3),u("routerLink",S(4,Fn,r.parameter.qualifiedName))("queryParams",S(6,Ge,m.yamcs.context)),l(),h(" ",r.parameter.qualifiedName," "),l(2),C((t=r.parameter.type==null||r.parameter.type.dataEncoding==null?null:r.parameter.type.dataEncoding.sizeInBits)!==null&&t!==void 0?t:"-")}}function pa(e,i){if(e&1&&(a(0,"td"),o(1,"Fixed value"),n(),a(2,"td"),o(3),n(),a(4,"td"),o(5),n()),e&2){let t=d().$implicit;l(3),ee("",t.fixedValue.name,": 0x",t.fixedValue.hexValue,""),l(2),C(t.fixedValue.sizeInBits)}}function da(e,i){if(e&1&&(a(0,"tr"),c(1,la,6,2)(2,ma,7,8)(3,pa,6,3),a(4,"td"),o(5),n(),a(6,"td"),o(7),n()()),e&2){let t=i.$implicit;l(),_(t.argument?1:-1),l(),_(t.parameter?2:-1),l(),_(t.fixedValue?3:-1),l(2),C(t.locationInBits),l(2),C(t.referenceLocation)}}function ca(e,i){if(e&1&&(a(0,"table",4)(1,"tr")(2,"th"),o(3,"Type"),n(),a(4,"th"),o(5,"Ref"),n(),a(6,"th"),o(7,"Size in bits"),n(),a(8,"th"),o(9,"Location in bits"),n(),a(10,"th"),o(11,"Reference location"),n()(),T(12,da,8,5,"tr",null,E),n()),e&2){let t=d();l(12),D(t.command.commandContainer==null?null:t.command.commandContainer.entry)}}function sa(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}var zt=(()=>{let i=class i{constructor(r,m){this.yamcs=r,this.dialog=m}showEnum(r){this.dialog.open(Vt,{width:"400px",data:{argument:r}})}};i.\u0275fac=function(m){return new(m||i)(v(A),v(vt))},i.\u0275cmp=w({type:i,selectors:[["app-command-detail"]],inputs:{command:"command"},standalone:!0,features:[F],decls:64,vars:16,consts:[[1,"dl-horizontal","no-lead"],["routerLink","/mdb/commands",1,"ya-link",3,"queryParams"],[3,"text"],[1,"dl-horizontal"],["yaDataTable",""],[1,"ya-link",3,"routerLink","queryParams"],[3,"level"],["matTooltip","Show enum states",1,"enum"],[3,"left","right"],["matTooltip","Show enum states",1,"enum",3,"click"],[3,"routerLink","queryParams"]],template:function(m,p){if(m&1&&(a(0,"dl",0)(1,"dt"),o(2,"Command"),n(),a(3,"dd"),o(4),x(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,Ln,2,5,"a",1),x(10,"spaceSystemName"),n(),T(11,$n,4,2,null,null,E),a(13,"dt"),o(14,"Short description"),n(),a(15,"dd"),o(16),n(),a(17,"dt"),o(18,"Long Description"),n(),a(19,"dd"),c(20,An,1,1,"app-markdown",2)(21,Nn,1,0),n()(),f(22,"mat-divider"),a(23,"dl",3)(24,"dt"),o(25,"Base command"),n(),c(26,qn,3,7,"dd")(27,Mn,2,0,"dd"),a(28,"dt"),o(29,"Abstract"),n(),a(30,"dd"),o(31),n(),a(32,"dt"),o(33,"Significance"),n(),c(34,kn,3,2,"dd")(35,Bn,2,0,"dd"),a(36,"dt"),o(37,"Argument assignments"),n(),c(38,Vn,3,0,"dd")(39,zn,2,0,"dd"),a(40,"dt"),o(41,"Arguments"),n(),c(42,Qn,23,0,"dd")(43,Wn,2,0,"dd"),n(),f(44,"mat-divider"),a(45,"dl",3)(46,"dt"),o(47,"Constraints"),n(),c(48,Kn,9,0,"dd")(49,Xn,2,0,"dd"),n(),f(50,"mat-divider"),a(51,"dl",3)(52,"dt"),o(53,"Verifiers"),n(),a(54,"dd"),c(55,oa,20,0,"table",4)(56,ra,1,0),n()(),f(57,"mat-divider"),a(58,"dl",3)(59,"dt"),o(60,"Sequence entries"),n(),a(61,"dd"),c(62,ca,14,0,"table",4)(63,sa,2,0,"span"),n()()),m&2){let s;l(4),C(y(5,12,p.command.qualifiedName)),l(5),_((s=y(10,14,p.command.qualifiedName))?9:-1,s),l(2),D(p.command.alias),l(5),C(p.command.shortDescription||"-"),l(4),_(p.command.longDescription?20:21),l(6),_(p.command.baseCommand?26:27),l(5),C(p.command.abstract?"Yes":"No"),l(3),_(p.command.significance?34:35),l(4),_(p.command.argumentAssignment?38:39),l(4),_(p.command.argument?42:43),l(6),_(p.command.constraint?48:49),l(7),_(p.command.verifier!=null&&p.command.verifier.length?55:56),l(7),_(p.command.commandContainer!=null&&p.command.commandContainer.entry?62:63)}},dependencies:[be,L,$,Z,se,ht,Le,$e,Q,W,Re],styles:[".enum[_ngcontent-%COMP%]{border-bottom:1px dotted #888;cursor:pointer}"],changeDetection:0});let e=i;return e})();var _a=(e,i)=>({c:e,filter:i});function ua(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),x(3,"shortName"),f(4,"ya-title-copy",3)),e&2){let t=i,r=d(),m=d();u("queryParams",Y(6,_a,m.yamcs.context,t)),l(),h(" ",t," "),l(),h("/",y(3,4,r.qualifiedName)," "),l(2),u("text",r.qualifiedName)}}function fa(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,ua,5,9),x(3,"spaceSystemName"),n(),a(4,"div",0),f(5,"app-command-detail",1),n()()),e&2){let t,r=i;l(2),_((t=y(3,2,r.qualifiedName))?2:-1,t),l(3),u("command",r)}}var Ot=(()=>{let i=class i{constructor(r,m,p){this.yamcs=m,this.title=p,this.command$=new P(null),r.paramMap.subscribe(s=>{let g=s.get("qualifiedName");this.changeCommand(g)})}changeCommand(r){this.yamcs.yamcsClient.getCommand(this.yamcs.instance,r).then(m=>{this.command$.next(m),this.title.setTitle(m.name)})}};i.\u0275fac=function(m){return new(m||i)(v(H),v(A),v(B))},i.\u0275cmp=w({type:i,selectors:[["ng-component"]],standalone:!0,features:[F],decls:2,vars:3,consts:[[1,"panel-content"],[3,"command"],["routerLink","/mdb/commands",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(m,p){if(m&1&&(c(0,fa,6,4,"app-instance-page"),x(1,"async")),m&2){let s;_((s=y(1,1,p.command$))?0:-1,s)}},dependencies:[zt,V,R,L,q,$,Pe,Q,W],encapsulation:2,changeDetection:0});let e=i;return e})();var Ke=class extends pe{constructor(i){super(),this.yamcs=i,this.containers$=new P([]),this.totalSize$=new P(0),this.loading$=new P(!1)}connect(){return this.containers$}loadContainers(i){return this.loading$.next(!0),this.yamcs.yamcsClient.getContainers(this.yamcs.instance,i).then(t=>{this.loading$.next(!1),this.totalSize$.next(t.totalSize),this.containers$.next(t.containers||[])})}getAliasNamespaces(){let i=[];for(let t of this.containers$.value)if(t.alias)for(let r of t.alias)r.namespace&&i.indexOf(r.namespace)===-1&&i.push(r.namespace);return i.sort()}disconnect(){this.containers$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var Ca=["top"],xa=e=>["/mdb/containers",e],jt=e=>({c:e}),ha=e=>["/mdb/containers/",e];function ya(e,i){e&1&&(a(0,"th",25),o(1,"Name"),n())}function va(e,i){if(e&1&&(a(0,"td",26)(1,"a",27),f(2,"ya-highlight",28),n()()),e&2){let t=i.$implicit,r=d(2);l(),u("routerLink",S(4,xa,t.qualifiedName))("queryParams",S(6,jt,r.yamcs.context)),l(),u("text",r.shortName?t.name:t.qualifiedName)("term",r.filterControl.value)}}function Sa(e,i){e&1&&(a(0,"th",25),o(1,"Max interval"),n())}function ga(e,i){if(e&1&&(a(0,"td",26),o(1),x(2,"duration"),n()),e&2){let t=i.$implicit;l(),h(" ",y(2,1,t.maxInterval)||"-"," ")}}function Ea(e,i){e&1&&(a(0,"th",25),o(1,"Size in bits"),n())}function Ta(e,i){if(e&1&&(a(0,"td",26),o(1),n()),e&2){let t=i.$implicit;l(),C(t.sizeInBits||"-")}}function Da(e,i){e&1&&(a(0,"th",25),o(1,"Base container"),n())}function Pa(e,i){if(e&1&&(a(0,"a",29),o(1),n()),e&2){let t=d().$implicit,r=d(2);u("routerLink",S(3,ha,t.baseContainer==null?null:t.baseContainer.qualifiedName))("queryParams",S(5,jt,r.yamcs.context)),l(),h(" ",(t.baseContainer==null?null:t.baseContainer.qualifiedName)||"-"," ")}}function ba(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Ia(e,i){if(e&1&&(a(0,"td",26),c(1,Pa,2,7,"a",29)(2,ba,2,0,"span"),n()),e&2){let t=i.$implicit;l(),_(t.baseContainer?1:2)}}function wa(e,i){e&1&&(a(0,"th",25),o(1,"Restriction criteria"),n())}function Fa(e,i){if(e&1&&(a(0,"td",30),o(1),n()),e&2){let t=i.$implicit;l(),h(" ",t.restrictionCriteriaExpression||"-"," ")}}function La(e,i){e&1&&(a(0,"th",25),o(1,"Partition"),n())}function $a(e,i){if(e&1&&(a(0,"td",26),o(1),n()),e&2){let t=i.$implicit;l(),h(" ",t.archivePartition?"Yes":"-"," ")}}function Aa(e,i){e&1&&(a(0,"th",25),o(1,"Description"),n())}function Na(e,i){if(e&1&&(a(0,"td",31),o(1),n()),e&2){let t=i.$implicit;l(),h(" ",t.shortDescription||"-"," ")}}function qa(e,i){if(e&1&&(a(0,"th",25),o(1),n()),e&2){let t=d().$implicit;l(),h(" ",t.label," ")}}function Ma(e,i){e&1&&o(0),e&2&&h(" ",i," ")}function ka(e,i){e&1&&o(0," - ")}function Ba(e,i){if(e&1&&(a(0,"td",26),c(1,Ma,1,1),x(2,"alias"),c(3,ka,1,0),n()),e&2){let t,r=i.$implicit,m=d().$implicit;l(),_((t=N(2,1,r,m.id))?1:3,t)}}function Ra(e,i){if(e&1&&(b(0,20),c(1,qa,2,1,"th",10)(2,Ba,4,4,"td",11),I()),e&2){let t=i.$implicit;u("matColumnDef",t.id)}}function Va(e,i){e&1&&f(0,"th",32)}function za(e,i){e&1&&f(0,"td",26)}function Oa(e,i){e&1&&f(0,"tr",33)}function ja(e,i){if(e&1&&f(0,"tr",34),e&2){let t=i.$implicit,r=d(2);te("selected",r.selection.isSelected(t))}}function Ya(e,i){if(e&1&&(a(0,"table",7),b(1,9),c(2,ya,2,0,"th",10)(3,va,3,8,"td",11),I(),b(4,12),c(5,Sa,2,0,"th",10)(6,ga,3,3,"td",11),I(),b(7,13),c(8,Ea,2,0,"th",10)(9,Ta,2,1,"td",11),I(),b(10,14),c(11,Da,2,0,"th",10)(12,Ia,3,1,"td",11),I(),b(13,15),c(14,wa,2,0,"th",10)(15,Fa,2,1,"td",16),I(),b(16,17),c(17,La,2,0,"th",10)(18,$a,2,1,"td",11),I(),b(19,18),c(20,Aa,2,0,"th",10)(21,Na,2,1,"td",19),I(),T(22,Ra,3,1,"ng-container",20,E),x(24,"async"),b(25,21),c(26,Va,1,0,"th",22)(27,za,1,0,"td",11),I(),c(28,Oa,1,0,"tr",23),x(29,"async"),c(30,ja,1,2,"tr",24),x(31,"async"),n()),e&2){let t=d(),r=le(9);u("dataSource",t.dataSource),l(22),D(y(24,3,t.aliasColumns$)),l(6),u("matHeaderRowDef",y(29,5,r.displayedColumns$)),l(2),u("matRowDefColumns",y(31,7,r.displayedColumns$))}}function Ha(e,i){if(e&1&&(a(0,"div",3),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any containers. "),n()),e&2){let t=d();l(3),C(t.yamcs.instance)}}var Yt=(()=>{let i=class i{constructor(r,m,p,s,g){this.yamcs=r,this.route=p,this.router=s,this.messageService=g,this.shortName=!1,this.pageSize=100,this.filterControl=new oe,this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"maxInterval",label:"Max Interval",visible:!0},{id:"sizeInBits",label:"Size in bits",visible:!0},{id:"baseContainer",label:"Base Container",visible:!0},{id:"restrictionCriteria",label:"Restriction Criteria",visible:!0},{id:"archivePartition",label:"Partition"},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}],this.aliasColumns$=new P([]),this.selection=new de(!1),m.setTitle("Containers"),this.dataSource=new Ke(r)}ngAfterViewInit(){let r=this.route.snapshot.queryParamMap;this.filterControl.setValue(r.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),r.has("page")&&(this.paginator.pageIndex=Number(r.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let r={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize},m=this.filterControl.value;m&&(r.q=m.toLowerCase()),this.dataSource.loadContainers(r).then(()=>{this.selection.clear();for(let s of this.aliasColumns$.value){let g=this.columns.indexOf(s);g!==-1&&this.columns.splice(g,1)}let p=[];for(let s of this.dataSource.getAliasNamespaces()){let g={id:s,label:s,alwaysVisible:!0};p.push(g)}this.columns.splice(1,0,...p),this.aliasColumns$.next(p),this.columnChooser.recalculate(this.columns)}).catch(p=>this.messageService.showError(p))}updateURL(){let r=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:r||null},queryParamsHandling:"merge"})}selectNext(){let r=this.dataSource.containers$.value,m=0;if(this.selection.hasValue()){let p=this.selection.selected[0];r.indexOf(p)!==-1&&(m=Math.min(r.indexOf(p)+1,r.length-1))}this.selection.select(r[m])}selectPrevious(){let r=this.dataSource.containers$.value,m=0;if(this.selection.hasValue()){let p=this.selection.selected[0];r.indexOf(p)!==-1&&(m=Math.max(r.indexOf(p)-1,0))}this.selection.select(r[m])}applySelection(){if(this.selection.hasValue()){let r=this.selection.selected[0];this.dataSource.containers$.value.indexOf(r)!==-1&&this.router.navigate(["/mdb/containers",r.qualifiedName],{queryParams:{c:this.yamcs.context}})}}};i.\u0275fac=function(m){return new(m||i)(v(A),v(B),v(H),v(ae),v(Te))},i.\u0275cmp=w({type:i,selectors:[["ng-component"]],viewQuery:function(m,p){if(m&1&&(z(Ca,7),z(U,7),z(K,5)),m&2){let s;O(s=j())&&(p.top=s.first),O(s=j())&&(p.paginator=s.first),O(s=j())&&(p.columnChooser=s.first)}},standalone:!0,features:[F],decls:15,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter containers",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","containers",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","maxInterval"],["matColumnDef","sizeInBits"],["matColumnDef","baseContainer"],["matColumnDef","restrictionCriteria"],["mat-cell","","class","mono",4,"matCellDef"],["matColumnDef","archivePartition"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap200",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],[1,"secundary",3,"routerLink","queryParams"],["mat-cell","",1,"mono"],["mat-cell","",1,"wrap200"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(m,p){if(m&1){let s=ie();a(0,"app-instance-page")(1,"app-instance-toolbar"),o(2,"Containers"),n(),f(3,"span",null,0),a(5,"div",3)(6,"div",4)(7,"ya-search-filter",5),ne("onArrowDown",function(){return M(s),k(p.selectNext())})("onArrowUp",function(){return M(s),k(p.selectPrevious())})("onEnter",function(){return M(s),k(p.applySelection())}),n(),f(8,"ya-column-chooser",6,1),n(),c(10,Ya,32,9,"table",7),f(11,"mat-paginator",8),x(12,"async"),n(),c(13,Ha,5,1,"ng-template",null,2,me),n()}m&2&&(l(7),u("formControl",p.filterControl),l(),u("columns",p.columns),l(2),_(p.dataSource?10:-1),l(),u("pageSize",p.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",y(12,7,p.dataSource.totalSize$)))},dependencies:[V,R,L,q,ce,we,$,U,_e,fe,ye,Ce,ue,ve,xe,he,Se,ge,K,Ee,De,Fe,ke],encapsulation:2,changeDetection:0});let e=i;return e})();var Ua=(e,i)=>({c:e,filter:i}),Qa=e=>["/mdb/containers/",e],Ht=e=>({c:e}),Wa=e=>["/mdb/parameters/",e];function Ga(e,i){if(e&1&&(a(0,"a",1),o(1),n()),e&2){let t=i,r=d();u("queryParams",Y(2,Ua,r.yamcs.context,t)),l(),h(" ",t," ")}}function Ka(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),C(t.namespace),l(2),C(t.name)}}function Xa(e,i){if(e&1&&f(0,"app-markdown",2),e&2){let t=d();u("text",t.container.longDescription)}}function Ja(e,i){e&1&&o(0," - ")}function Za(e,i){if(e&1&&(a(0,"span"),o(1),x(2,"duration"),n()),e&2){let t=d();l(),C(y(2,1,t.container.maxInterval))}}function eo(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function to(e,i){if(e&1&&(a(0,"a",4),o(1),n()),e&2){let t=d();u("routerLink",S(3,Qa,t.container.baseContainer.qualifiedName))("queryParams",S(5,Ht,t.yamcs.context)),l(),h(" ",t.container.baseContainer.qualifiedName||"-"," ")}}function io(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function no(e,i){if(e&1&&(a(0,"td"),o(1,"Parameter"),n(),a(2,"td")(3,"a",4),o(4),n()(),a(5,"td"),o(6),n()),e&2){let t,r=d().$implicit,m=d(2);l(3),u("routerLink",S(4,Wa,r.parameter.qualifiedName))("queryParams",S(6,Ht,m.yamcs.context)),l(),h(" ",r.parameter.qualifiedName," "),l(2),C((t=r.parameter.type==null||r.parameter.type.dataEncoding==null?null:r.parameter.type.dataEncoding.sizeInBits)!==null&&t!==void 0?t:"-")}}function ao(e,i){if(e&1&&(a(0,"td"),o(1,"Container"),n(),a(2,"td"),o(3),n(),a(4,"td"),o(5),n()),e&2){let t,r=d().$implicit;l(3),C(r.container.qualifiedName),l(2),C((t=r.container.sizeInBits)!==null&&t!==void 0?t:"-")}}function oo(e,i){if(e&1&&(a(0,"tr"),c(1,no,7,8)(2,ao,6,2),a(3,"td"),o(4),n(),a(5,"td"),o(6),n()()),e&2){let t=i.$implicit;l(),_(t.parameter?1:-1),l(),_(t.container?2:-1),l(2),C(t.locationInBits),l(2),C(t.referenceLocation)}}function ro(e,i){if(e&1&&(a(0,"table",6)(1,"tr")(2,"th"),o(3,"Type"),n(),a(4,"th"),o(5,"Ref"),n(),a(6,"th"),o(7,"Size in bits"),n(),a(8,"th"),o(9,"Location in Bits"),n(),a(10,"th"),o(11,"Reference Location"),n()(),T(12,oo,7,4,"tr",null,E),n()),e&2){let t=d();l(12),D(t.container.entry)}}function lo(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}var Ut=(()=>{let i=class i{constructor(r){this.yamcs=r}};i.\u0275fac=function(m){return new(m||i)(v(A))},i.\u0275cmp=w({type:i,selectors:[["app-container-detail"]],inputs:{container:"container"},standalone:!0,features:[F],decls:49,vars:13,consts:[[1,"dl-horizontal","no-lead"],["routerLink","/mdb/containers",1,"ya-link",3,"queryParams"],[3,"text"],[1,"dl-horizontal"],[1,"ya-link",3,"routerLink","queryParams"],[1,"mono"],["yaDataTable",""]],template:function(m,p){if(m&1&&(a(0,"dl",0)(1,"dt"),o(2,"Container"),n(),a(3,"dd"),o(4),x(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,Ga,2,5,"a",1),x(10,"spaceSystemName"),n(),T(11,Ka,4,2,null,null,E),a(13,"dt"),o(14,"Short Description"),n(),a(15,"dd"),o(16),n(),a(17,"dt"),o(18,"Long Description"),n(),a(19,"dd"),c(20,Xa,1,1,"app-markdown",2)(21,Ja,1,0),n()(),f(22,"mat-divider"),a(23,"dl",3)(24,"dt"),o(25,"Max Interval"),n(),a(26,"dd"),c(27,Za,3,3,"span")(28,eo,2,0,"span"),n(),a(29,"dt"),o(30,"Base Container"),n(),a(31,"dd"),c(32,to,2,7,"a",4)(33,io,2,0,"span"),n(),a(34,"dt"),o(35,"Restriction Criteria"),n(),a(36,"dd",5),o(37),n(),a(38,"dt"),o(39,"Archive Partition"),n(),a(40,"dd"),o(41),n()(),f(42,"mat-divider"),a(43,"dl",3)(44,"dt"),o(45,"Sequence Entries"),n(),a(46,"dd"),c(47,ro,14,0,"table",6)(48,lo,2,0,"span"),n()()),m&2){let s;l(4),C(y(5,9,p.container.qualifiedName)),l(5),_((s=y(10,11,p.container.qualifiedName))?9:-1,s),l(2),D(p.container.alias),l(5),C(p.container.shortDescription||"-"),l(4),_(p.container.longDescription?20:21),l(7),_(p.container.maxInterval?27:28),l(5),_(p.container.baseContainer?32:33),l(5),h(" ",p.container.restrictionCriteriaExpression||"-"," "),l(4),h(" ",p.container.archivePartition?"Yes":"No"," "),l(6),_(p.container.entry?47:48)}},dependencies:[be,L,$,Z,se,ke,Q,W],encapsulation:2,changeDetection:0});let e=i;return e})();var mo=(e,i)=>({c:e,filter:i});function po(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),x(3,"shortName"),f(4,"ya-title-copy",3)),e&2){let t=i,r=d(),m=d();u("queryParams",Y(6,mo,m.yamcs.context,t)),l(),h(" ",t," "),l(),h("/",y(3,4,r.qualifiedName)," "),l(2),u("text",r.qualifiedName)}}function co(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,po,5,9),x(3,"spaceSystemName"),n(),a(4,"div",0),f(5,"app-container-detail",1),n()()),e&2){let t,r=i;l(2),_((t=y(3,2,r.qualifiedName))?2:-1,t),l(3),u("container",r)}}var Qt=(()=>{let i=class i{constructor(r,m,p){this.yamcs=m,this.title=p,this.container$=new P(null),r.paramMap.subscribe(s=>{let g=s.get("qualifiedName");this.changeContainer(g)})}changeContainer(r){this.yamcs.yamcsClient.getContainer(this.yamcs.instance,r).then(m=>{this.container$.next(m),this.title.setTitle(m.name)})}};i.\u0275fac=function(m){return new(m||i)(v(H),v(A),v(B))},i.\u0275cmp=w({type:i,selectors:[["ng-component"]],standalone:!0,features:[F],decls:2,vars:3,consts:[[1,"panel-content"],[3,"container"],["routerLink","/mdb/containers",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(m,p){if(m&1&&(c(0,co,6,4,"app-instance-page"),x(1,"async")),m&2){let s;_((s=y(1,1,p.container$))?0:-1,s)}},dependencies:[Ut,V,R,L,q,$,Pe,Q,W],encapsulation:2,changeDetection:0});let e=i;return e})();var qe=e=>({c:e});function so(e,i){if(e&1&&(a(0,"dl",1)(1,"dt"),o(2,"Parameters:"),n(),a(3,"dd")(4,"a",2),o(5),n()(),a(6,"dt"),o(7,"Parameter types:"),n(),a(8,"dd")(9,"a",3),o(10),n()(),a(11,"dt"),o(12,"Containers:"),n(),a(13,"dd")(14,"a",4),o(15),n()(),a(16,"dt"),o(17,"Commands:"),n(),a(18,"dd")(19,"a",5),o(20),n()(),a(21,"dt"),o(22,"Algorithms:"),n(),a(23,"dd")(24,"a",6),o(25),n()()()),e&2){let t=i,r=d();l(4),u("queryParams",S(10,qe,r.yamcs.context)),l(),C(t.parameterCount),l(4),u("queryParams",S(12,qe,r.yamcs.context)),l(),C(t.parameterTypeCount),l(4),u("queryParams",S(14,qe,r.yamcs.context)),l(),C(t.containerCount),l(4),u("queryParams",S(16,qe,r.yamcs.context)),l(),C(t.commandCount),l(4),u("queryParams",S(18,qe,r.yamcs.context)),l(),C(t.algorithmCount)}}var Wt=(()=>{let i=class i{constructor(r,m){this.yamcs=r,m.setTitle("Mission database"),this.mdb$=r.yamcsClient.getMissionDatabase(r.instance)}};i.\u0275fac=function(m){return new(m||i)(v(A),v(B))},i.\u0275cmp=w({type:i,selectors:[["ng-component"]],standalone:!0,features:[F],decls:6,vars:3,consts:[[1,"panel-content"],[1,"dl-horizontal","no-lead"],["routerLink","/mdb/parameters",1,"ya-link",3,"queryParams"],["routerLink","/mdb/parameter-types",1,"ya-link",3,"queryParams"],["routerLink","/mdb/containers",1,"ya-link",3,"queryParams"],["routerLink","/mdb/commands",1,"ya-link",3,"queryParams"],["routerLink","/mdb/algorithms",1,"ya-link",3,"queryParams"]],template:function(m,p){if(m&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),o(2," Mission database "),n(),a(3,"div",0),c(4,so,26,20,"dl",1),x(5,"async"),n()()),m&2){let s;l(4),_((s=y(5,1,p.mdb$))?4:-1,s)}},dependencies:[V,R,L,q,$],encapsulation:2,changeDetection:0});let e=i;return e})();var Xe=class extends pe{constructor(i){super(),this.yamcs=i,this.parameterTypes$=new P([]),this.totalSize$=new P(0),this.loading$=new P(!1)}connect(){return this.parameterTypes$}loadParameterTypes(i){return this.loading$.next(!0),this.yamcs.yamcsClient.getParameterTypes(this.yamcs.instance,i).then(t=>{this.loading$.next(!1),this.totalSize$.next(t.totalSize),this.parameterTypes$.next(t.parameterTypes||[])})}getAliasNamespaces(){let i=[];for(let t of this.parameterTypes$.value)if(t.alias)for(let r of t.alias)r.namespace&&i.indexOf(r.namespace)===-1&&i.push(r.namespace);return i.sort()}disconnect(){this.parameterTypes$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var _o=["top"],uo=e=>["/mdb/parameter-types",e],fo=e=>({c:e});function Co(e,i){e&1&&(a(0,"th",21),o(1,"Name"),n())}function xo(e,i){if(e&1&&(a(0,"td",22)(1,"a",23),f(2,"ya-highlight",24),n()()),e&2){let t=i.$implicit,r=d(2);l(),u("routerLink",S(4,uo,t.qualifiedName))("queryParams",S(6,fo,r.yamcs.context)),l(),u("text",r.shortName?t.name:t.qualifiedName)("term",r.filterControl.value)}}function ho(e,i){e&1&&(a(0,"th",21),o(1,"Type"),n())}function yo(e,i){e&1&&(a(0,"span",25),o(1),n()),e&2&&(l(),h(" ",i," "))}function vo(e,i){e&1&&o(0," - ")}function So(e,i){if(e&1&&(a(0,"td",22),c(1,yo,2,1,"span",25)(2,vo,1,0),n()),e&2){let t,r=i.$implicit;l(),_((t=r.engType)?1:2,t)}}function go(e,i){e&1&&(a(0,"th",21),o(1,"Units"),n())}function Eo(e,i){if(e&1&&(a(0,"td",22),o(1),x(2,"units"),n()),e&2){let t=i.$implicit;l(),h(" ",y(2,1,t==null?null:t.unitSet)||"-"," ")}}function To(e,i){e&1&&(a(0,"th",21),o(1,"Description"),n())}function Do(e,i){if(e&1&&f(0,"ya-highlight",24),e&2){let t=d(3);u("text",i)("term",t.filterControl.value)}}function Po(e,i){e&1&&o(0," - ")}function bo(e,i){if(e&1&&(a(0,"td",26),c(1,Do,1,2,"ya-highlight",24)(2,Po,1,0),n()),e&2){let t,r=i.$implicit;l(),_((t=r.shortDescription)?1:2,t)}}function Io(e,i){if(e&1&&(a(0,"th",21),o(1),n()),e&2){let t=d().$implicit;l(),h(" ",t.label," ")}}function wo(e,i){if(e&1&&f(0,"ya-highlight",24),e&2){let t=d(4);u("text",i)("term",t.filterControl.value)}}function Fo(e,i){e&1&&o(0," - ")}function Lo(e,i){if(e&1&&(a(0,"td",22),c(1,wo,1,2,"ya-highlight",24),x(2,"alias"),c(3,Fo,1,0),n()),e&2){let t,r=i.$implicit,m=d().$implicit;l(),_((t=N(2,1,r,m.id))?1:3,t)}}function $o(e,i){if(e&1&&(b(0,16),c(1,Io,2,1,"th",10)(2,Lo,4,4,"td",11),I()),e&2){let t=i.$implicit;u("matColumnDef",t.id)}}function Ao(e,i){e&1&&f(0,"th",27)}function No(e,i){e&1&&f(0,"td",22)}function qo(e,i){e&1&&f(0,"tr",28)}function Mo(e,i){if(e&1&&f(0,"tr",29),e&2){let t=i.$implicit,r=d(2);te("selected",r.selection.isSelected(t))}}function ko(e,i){if(e&1&&(a(0,"table",7),b(1,9),c(2,Co,2,0,"th",10)(3,xo,3,8,"td",11),I(),b(4,12),c(5,ho,2,0,"th",10)(6,So,3,1,"td",11),I(),b(7,13),c(8,go,2,0,"th",10)(9,Eo,3,3,"td",11),I(),b(10,14),c(11,To,2,0,"th",10)(12,bo,3,1,"td",15),I(),T(13,$o,3,1,"ng-container",16,E),x(15,"async"),b(16,17),c(17,Ao,1,0,"th",18)(18,No,1,0,"td",11),I(),c(19,qo,1,0,"tr",19),x(20,"async"),c(21,Mo,1,2,"tr",20),x(22,"async"),n()),e&2){let t=d(),r=le(9);u("dataSource",t.dataSource),l(13),D(y(15,3,t.aliasColumns$)),l(6),u("matHeaderRowDef",y(20,5,r.displayedColumns$)),l(2),u("matRowDefColumns",y(22,7,r.displayedColumns$))}}function Bo(e,i){if(e&1&&(a(0,"div",3),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any parameter types. "),n()),e&2){let t=d();l(3),C(t.yamcs.instance)}}var Gt=(()=>{let i=class i{constructor(r,m,p,s,g){this.yamcs=r,this.route=p,this.router=s,this.messageService=g,this.shortName=!1,this.pageSize=100,this.filterControl=new oe,this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"units",label:"Units",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}],this.aliasColumns$=new P([]),this.selection=new de(!1),m.setTitle("Parameter types"),this.dataSource=new Xe(r)}ngAfterViewInit(){let r=this.route.snapshot.queryParamMap;this.filterControl.setValue(r.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),r.has("page")&&(this.paginator.pageIndex=Number(r.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let r={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize,fields:["name","qualifiedName","engType","unitSet","alias","shortDescription"]},m=this.filterControl.value;m&&(r.q=m.toLowerCase()),this.dataSource.loadParameterTypes(r).then(()=>{this.selection.clear();for(let s of this.aliasColumns$.value){let g=this.columns.indexOf(s);g!==-1&&this.columns.splice(g,1)}let p=[];for(let s of this.dataSource.getAliasNamespaces()){let g={id:s,label:s,alwaysVisible:!0};p.push(g)}this.columns.splice(1,0,...p),this.aliasColumns$.next(p),this.columnChooser.recalculate(this.columns)}).catch(p=>this.messageService.showError(p))}updateURL(){let r=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:r||null},queryParamsHandling:"merge"})}selectNext(){let r=this.dataSource.parameterTypes$.value,m=0;if(this.selection.hasValue()){let p=this.selection.selected[0];r.indexOf(p)!==-1&&(m=Math.min(r.indexOf(p)+1,r.length-1))}this.selection.select(r[m])}selectPrevious(){let r=this.dataSource.parameterTypes$.value,m=0;if(this.selection.hasValue()){let p=this.selection.selected[0];r.indexOf(p)!==-1&&(m=Math.max(r.indexOf(p)-1,0))}this.selection.select(r[m])}applySelection(){if(this.selection.hasValue()){let r=this.selection.selected[0];this.dataSource.parameterTypes$.value.indexOf(r)!==-1&&this.router.navigate(["/mdb/parameter-types",r.qualifiedName],{queryParams:{c:this.yamcs.context}})}}};i.\u0275fac=function(m){return new(m||i)(v(A),v(B),v(H),v(ae),v(Te))},i.\u0275cmp=w({type:i,selectors:[["ng-component"]],viewQuery:function(m,p){if(m&1&&(z(_o,7),z(U,7),z(K,5)),m&2){let s;O(s=j())&&(p.top=s.first),O(s=j())&&(p.paginator=s.first),O(s=j())&&(p.columnChooser=s.first)}},standalone:!0,features:[F],decls:15,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter parameter types",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","mdb-parameter-types",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","units"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap200",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],[1,"mono"],["mat-cell","",1,"wrap200"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(m,p){if(m&1){let s=ie();a(0,"app-instance-page")(1,"app-instance-toolbar"),o(2,"Parameter types"),n(),f(3,"span",null,0),a(5,"div",3)(6,"div",4)(7,"ya-search-filter",5),ne("onArrowDown",function(){return M(s),k(p.selectNext())})("onArrowUp",function(){return M(s),k(p.selectPrevious())})("onEnter",function(){return M(s),k(p.applySelection())}),n(),f(8,"ya-column-chooser",6,1),n(),c(10,ko,23,9,"table",7),f(11,"mat-paginator",8),x(12,"async"),n()(),c(13,Bo,5,1,"ng-template",null,2,me)}m&2&&(l(7),u("formControl",p.filterControl),l(),u("columns",p.columns),l(2),_(p.dataSource?10:-1),l(),u("pageSize",p.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",y(12,7,p.dataSource.totalSize$)))},dependencies:[V,R,L,q,ce,we,$,U,_e,fe,ye,Ce,ue,ve,xe,he,Se,ge,K,Ee,De,Fe,Be],encapsulation:2,changeDetection:0});let e=i;return e})();var Kt=(()=>{let i=class i{transform(r){if(!r||!r.length)return null;let m="",p=!0;for(let s=r.length-1;s>=0;s--)r[s]!==0&&(p||(r[s]>0?m+=" + ":m+=" - "),m+=Math.abs(r[s]),s===1?m+="\u{1D465}":s>=1&&(m+="\u{1D465}<sup>"+s+"</sup>"),p=!1);return m}};i.\u0275fac=function(m){return new(m||i)},i.\u0275pipe=ct({name:"polynomial",type:i,pure:!0,standalone:!0});let e=i;return e})();var Ro=e=>["/mdb/parameters/",e],Vo=e=>({c:e});function zo(e,i){if(e&1&&(f(0,"span",3),x(1,"polynomial")),e&2){let t=d();u("innerHTML",y(1,1,t.polynomialCalibrator.coefficient),tt)}}function Oo(e,i){if(e&1&&(a(0,"span"),o(1),n()),e&2){let t=d();l(),h(" ",t.splineCalibrator.point.length," points ")}}function jo(e,i){if(e&1&&(a(0,"span"),o(1),n()),e&2){let t=d();l(),h(" ",t.javaExpressionCalibrator.formula," ")}}function Yo(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Ho(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"default"),n(),a(3,"td"),o(4),n(),a(5,"td"),c(6,zo,2,3,"span",3)(7,Oo,2,1,"span")(8,jo,2,1,"span")(9,Yo,2,0,"span"),n()()),e&2){let t,r=i;l(4),C(r.type),l(2),_((t=r.type)==="POLYNOMIAL"?6:t==="SPLINE"?7:t==="JAVA_EXPRESSION"?8:9)}}function Uo(e,i){if(e&1&&(a(0,"a",4),o(1),n(),o(2),x(3,"operator")),e&2){let t=i.$implicit,r=d(4);u("routerLink",S(7,Ro,t.parameter.qualifiedName))("queryParams",S(9,Vo,r.yamcs.context)),l(),C(t.parameter.qualifiedName),l(),ee(" ",y(3,5,t.operator)," ",t.value," ")}}function Qo(e,i){if(e&1&&(f(0,"span",3),x(1,"polynomial")),e&2){let t=d().$implicit;u("innerHTML",y(1,1,t.calibrator.polynomialCalibrator.coefficient),tt)}}function Wo(e,i){if(e&1&&(a(0,"span"),o(1),n()),e&2){let t=d().$implicit;l(),h(" ",t.calibrator.splineCalibrator.point.length," points ")}}function Go(e,i){if(e&1&&(a(0,"span"),o(1),n()),e&2){let t=d().$implicit;l(),h(" ",t.calibrator.javaExpressionCalibrator.formula," ")}}function Ko(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Xo(e,i){if(e&1&&(a(0,"tr")(1,"td"),T(2,Uo,4,11,null,null,E),n(),a(4,"td"),o(5),n(),a(6,"td"),c(7,Qo,2,3,"span",3)(8,Wo,2,1,"span")(9,Go,2,1,"span")(10,Ko,2,0,"span"),n()()),e&2){let t,r=i.$implicit;l(2),D(r.comparison),l(3),C(r.calibrator.type),l(2),_((t=r.calibrator.type)==="POLYNOMIAL"?7:t==="SPLINE"?8:t==="JAVA_EXPRESSION"?9:10)}}function Jo(e,i){e&1&&T(0,Xo,11,2,"tr",null,E),e&2&&D(i)}function Zo(e,i){if(e&1&&(a(0,"table",0)(1,"tr")(2,"th",1),o(3,"Calibrator"),n(),a(4,"th",2),o(5,"Type"),n(),a(6,"th",1),o(7,"Definition"),n()(),c(8,Ho,10,2,"tr")(9,Jo,2,0),n()),e&2){let t,r,m=d();l(8),_((t=m.ptype.dataEncoding==null?null:m.ptype.dataEncoding.defaultCalibrator)?8:-1,t),l(),_((r=m.ptype.dataEncoding==null?null:m.ptype.dataEncoding.contextCalibrator)?9:-1,r)}}function er(e,i){e&1&&o(0,` None
`)}var Je=(()=>{let i=class i{constructor(r){this.yamcs=r}};i.\u0275fac=function(m){return new(m||i)(v(A))},i.\u0275cmp=w({type:i,selectors:[["app-parameter-calibration"]],inputs:{ptype:"ptype"},standalone:!0,features:[F],decls:2,vars:1,consts:[["yaDataTable",""],["width","200"],["width","100"],[3,"innerHTML"],[3,"routerLink","queryParams"]],template:function(m,p){m&1&&c(0,Zo,10,2,"table",0)(1,er,1,0),m&2&&_(p.ptype.dataEncoding!=null&&p.ptype.dataEncoding.defaultCalibrator||p.ptype.dataEncoding!=null&&p.ptype.dataEncoding.contextCalibrator?0:1)},dependencies:[Kt,L,$,Z,Ae],encapsulation:2,changeDetection:0});let e=i;return e})();var tr=(e,i)=>({c:e,filter:i}),Xt=e=>["/mdb/parameters/",e],Jt=e=>({c:e});function ir(e,i){if(e&1&&(a(0,"a",1),o(1),n()),e&2){let t=i,r=d();u("queryParams",Y(2,tr,r.yamcs.context,t)),l(),h(" ",t," ")}}function nr(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),C(t.namespace),l(2),C(t.name)}}function ar(e,i){e&1&&(a(0,"span",2),o(1),n()),e&2&&(l(),h(" ",i," "))}function or(e,i){e&1&&o(0," - ")}function rr(e,i){if(e&1&&(a(0,"dt"),o(1,"Signed"),n(),a(2,"dd"),o(3),n()),e&2){let t=d();l(3),h(" ",t.parameterType.signed," ")}}function lr(e,i){if(e&1&&f(0,"app-markdown",3),e&2){let t=d();u("text",t.parameterType.longDescription)}}function mr(e,i){e&1&&o(0," - ")}function pr(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"Parameter"),n(),a(3,"td")(4,"a",6),o(5),n()()()),e&2){let t=i.$implicit,r=d(2);l(4),u("routerLink",S(3,Xt,t.qualifiedName))("queryParams",S(5,Jt,r.yamcs.context)),l(),h(" ",t.qualifiedName," ")}}function dr(e,i){if(e&1&&(a(0,"div",4),f(1,"mat-divider"),n(),a(2,"h4"),o(3,"Used By"),n(),a(4,"table",5)(5,"tr")(6,"th"),o(7,"Type"),n(),a(8,"th"),o(9,"Ref"),n()(),T(10,pr,6,7,"tr",null,E),n(),a(12,"p"),o(13,"\xA0"),n()),e&2){let t=d();l(10),D(t.parameterType.usedBy)}}function cr(e,i){if(e&1&&o(0),e&2){let t=d(2);h(" ",t!=null&&t.littleEndian?"Little Endian":"Big Endian"," ")}}function sr(e,i){e&1&&o(0," - ")}function _r(e,i){if(e&1&&(a(0,"dt"),o(1,"Byte order"),n(),a(2,"dd"),c(3,cr,1,1)(4,sr,1,0),n()),e&2){let t=d();l(3),_((t==null?null:t.littleEndian)!==void 0?3:-1),l(),_((t==null?null:t.littleEndian)===void 0?4:-1)}}function ur(e,i){if(e&1&&(a(0,"div",4),f(1,"mat-divider"),n(),a(2,"h4"),o(3,"Data Encoding"),n(),a(4,"dl",7)(5,"dt"),o(6,"Size in bits"),n(),a(7,"dd"),o(8),x(9,"nvl"),n(),c(10,_r,5,2),a(11,"dt"),o(12,"Encoding"),n(),a(13,"dd"),o(14),n()()),e&2){let t=i;l(8),C(N(9,3,t==null?null:t.sizeInBits,"-")),l(2),_((t==null?null:t.littleEndian)!==void 0?10:-1),l(4),C((t==null?null:t.encoding)||"-")}}function fr(e,i){if(e&1&&(a(0,"div",4),f(1,"mat-divider"),n(),a(2,"h4"),o(3,"Calibration"),n(),f(4,"app-parameter-calibration",8),a(5,"p"),o(6,"\xA0"),n()),e&2){let t=d();l(4),u("ptype",t.parameterType)}}function Cr(e,i){e&1&&o(0," , ")}function xr(e,i){if(e&1&&(c(0,Cr,1,0),a(1,"a",12),o(2),n(),o(3),x(4,"operator")),e&2){let t=i.$implicit,r=i.$index,m=d(4);_(r!==0?0:-1),l(),u("routerLink",S(8,Xt,t.parameter.qualifiedName))("queryParams",S(10,Jt,m.yamcs.context)),l(),h(" ",t.parameter.name," "),l(),ee(" ",y(4,6,t.operator)," ",t.value," ")}}function hr(e,i){if(e&1&&(a(0,"th"),T(1,xr,5,12,null,null,E),n()),e&2){let t=i.$implicit;l(),D(t.comparison)}}function yr(e,i){if(e&1&&(f(0,"app-alarm-level",14),o(1)),e&2){let t=i;u("level",t)("grayscale",!0),l(),h(" ",t," ")}}function vr(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Sr(e,i){if(e&1&&(f(0,"app-alarm-level",14),o(1)),e&2){let t=i;u("level",t)("grayscale",!0),l(),h(" ",t," ")}}function gr(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Er(e,i){if(e&1&&(a(0,"td"),c(1,Sr,2,3)(2,gr,2,0,"span"),n()),e&2){let t,r=i.$implicit,m=d().$implicit,p=d(3);l(),_((t=p.getEnumerationAlarmLevel(r,m))?1:2,t)}}function Tr(e,i){if(e&1&&(a(0,"tr")(1,"td",13),o(2),n(),a(3,"td",13),o(4),n(),a(5,"td"),o(6),n(),a(7,"td"),c(8,yr,2,3)(9,vr,2,0,"span"),n(),T(10,Er,3,1,"td",null,E),n()),e&2){let t,r=i.$implicit,m=d(3);l(2),C(r.value),l(2),C(r.label),l(2),C(r.description||"-"),l(2),_((t=m.getDefaultAlarmLevel(m.parameterType,r))?8:9,t),l(2),D(m.parameterType.contextAlarm)}}function Dr(e,i){if(e&1&&(a(0,"table",5)(1,"tr")(2,"th",9),o(3,"Value"),n(),a(4,"th",10),o(5,"Label"),n(),a(6,"th",11),o(7,"Description"),n(),a(8,"th"),o(9,"Alarm Level (default)"),n(),T(10,hr,3,0,"th",null,E),n(),T(12,Tr,12,4,"tr",null,E),n()),e&2){let t=d(2);l(10),D(t.parameterType.contextAlarm),l(2),D(t.parameterType.enumValue)}}function Pr(e,i){if(e&1&&(a(0,"div",4),f(1,"mat-divider"),n(),a(2,"h4"),o(3,"Enumeration"),n(),c(4,Dr,14,0,"table",5),a(5,"p"),o(6,"\xA0"),n()),e&2){let t=d();l(4),_(t.parameterType.engType==="enumeration"?4:-1)}}function br(e,i){if(e&1&&(f(0,"ya-interval",16),x(1,"nvl"),x(2,"nvl")),e&2){let t=d().$implicit;u("left",N(1,5,t.minInclusive,t.minExclusive))("right",N(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function Ir(e,i){e&1&&o(0," - ")}function wr(e,i){if(e&1&&(a(0,"tr")(1,"td"),f(2,"app-alarm-level",14),o(3),n(),a(4,"td"),c(5,br,3,11,"ya-interval",16)(6,Ir,1,0),n()()),e&2){let t=i.$implicit;l(2),u("level",t.level)("grayscale",!0),l(),h(" ",t.level," "),l(2),_(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function Fr(e,i){if(e&1&&(a(0,"dl",15)(1,"dt"),o(2,"Min. violations"),n(),a(3,"dd"),o(4),n()(),a(5,"table",5)(6,"tr")(7,"th"),o(8,"Alarm Level (default)"),n(),a(9,"th"),o(10,"Range"),n()(),T(11,wr,7,4,"tr",null,E),n()),e&2){let t=i;l(4),C(t.minViolations),l(7),D(t.staticAlarmRange)}}function Lr(e,i){e&1&&(a(0,"p"),o(1,"\xA0"),n())}function $r(e,i){if(e&1&&(f(0,"ya-interval",16),x(1,"nvl"),x(2,"nvl")),e&2){let t=d().$implicit;u("left",N(1,5,t.minInclusive,t.minExclusive))("right",N(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function Ar(e,i){e&1&&o(0," - ")}function Nr(e,i){if(e&1&&(a(0,"tr")(1,"td"),f(2,"app-alarm-level",14),o(3),n(),a(4,"td"),c(5,$r,3,11,"ya-interval",16)(6,Ar,1,0),n()()),e&2){let t=i.$implicit;l(2),u("level",t.level)("grayscale",!0),l(),h(" ",t.level," "),l(2),_(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function qr(e,i){if(e&1&&(c(0,Lr,2,0,"p"),a(1,"h5"),o(2," Context: "),a(3,"code"),o(4),n()(),a(5,"dl",15)(6,"dt"),o(7,"Min. violations"),n(),a(8,"dd"),o(9),n()(),a(10,"table",5)(11,"tr")(12,"th"),o(13,"Level"),n(),a(14,"th"),o(15,"Range"),n()(),T(16,Nr,7,4,"tr",null,E),n()),e&2){let t=i.$implicit,r=i.$index;_(r!==0?0:-1),l(4),C(t.context),l(5),C(t.alarm.minViolations),l(7),D(t.alarm.staticAlarmRange)}}function Mr(e,i){if(e&1&&(c(0,Fr,13,1),T(1,qr,18,3,null,null,E)),e&2){let t,r=d(2);_((t=r.parameterType.defaultAlarm)?0:-1,t),l(),D(r.parameterType.contextAlarm)}}function kr(e,i){e&1&&o(0," None ")}function Br(e,i){if(e&1&&(a(0,"div",4),f(1,"mat-divider"),n(),a(2,"h4"),o(3,"Alarm Info"),n(),c(4,Mr,3,1)(5,kr,1,0),a(6,"p"),o(7,"\xA0"),n()),e&2){let t=d();l(4),_(t.parameterType.defaultAlarm||t.parameterType.contextAlarm?4:5)}}var Zt=(()=>{let i=class i{constructor(r){this.yamcs=r}getDefaultAlarmLevel(r,m){if(r&&r.defaultAlarm){let p=r.defaultAlarm;if(p.enumerationAlarm){for(let s of p.enumerationAlarm)if(s.label===m.label)return s.level}}}getEnumerationAlarmLevel(r,m){let p=r.alarm;for(let s of p.enumerationAlarm)if(s.label===m.label)return s.level}};i.\u0275fac=function(m){return new(m||i)(v(A))},i.\u0275cmp=w({type:i,selectors:[["app-parameter-type-detail"]],inputs:{parameterType:"parameterType"},standalone:!0,features:[F],decls:34,vars:15,consts:[[1,"dl-horizontal","no-lead"],["routerLink","/mdb/parameter-types",1,"ya-link",3,"queryParams"],[1,"mono"],[3,"text"],[1,"section-divider"],["yaDataTable",""],[3,"routerLink","queryParams"],[1,"dl-horizontal","no-trail"],[3,"ptype"],[2,"width","50px"],[2,"width","100px"],[2,"width","300px"],[1,"secundary",3,"routerLink","queryParams"],[2,"white-space","nowrap"],[3,"level","grayscale"],[1,"dl-horizontal"],[3,"left","right","leftInclusive","rightInclusive","outside"]],template:function(m,p){if(m&1&&(a(0,"dl",0)(1,"dt"),o(2,"Parameter Type"),n(),a(3,"dd"),o(4),x(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,ir,2,5,"a",1),x(10,"spaceSystemName"),n(),T(11,nr,4,2,null,null,E),a(13,"dt"),o(14,"Type"),n(),a(15,"dd"),c(16,ar,2,1,"span",2)(17,or,1,0),n(),c(18,rr,4,1),a(19,"dt"),o(20,"Short Description"),n(),a(21,"dd"),o(22),n(),a(23,"dt"),o(24,"Long Description"),n(),a(25,"dd"),c(26,lr,1,1,"app-markdown",3)(27,mr,1,0),n()(),c(28,dr,14,0)(29,ur,15,6)(30,fr,7,1)(31,Pr,7,1)(32,Br,8,1),f(33,"mat-divider")),m&2){let s,g,mt;l(4),C(y(5,11,p.parameterType.qualifiedName)),l(5),_((s=y(10,13,p.parameterType.qualifiedName))?9:-1,s),l(2),D(p.parameterType.alias),l(5),_((g=p.parameterType.engType)?16:17,g),l(2),_(p.parameterType.signed!==void 0?18:-1),l(4),C(p.parameterType.shortDescription||"-"),l(4),_(p.parameterType.longDescription?26:27),l(2),_(p.parameterType.usedBy!=null&&p.parameterType.usedBy.length?28:-1),l(),_((mt=p.parameterType.dataEncoding)?29:-1,mt),l(),_(p.parameterType.engType==="integer"||p.parameterType.engType==="float"?30:-1),l(),_(p.parameterType.engType==="enumeration"?31:-1),l(),_(p.parameterType.engType==="integer"||p.parameterType.engType==="float"?32:-1)}},dependencies:[Ve,be,Je,L,$,Z,se,Le,$e,Ae,Q,W],styles:["[_nghost-%COMP%]{font:400 12px/20px Roboto,sans-serif}"],changeDetection:0});let e=i;return e})();var Rr=(e,i)=>({c:e,filter:i});function Vr(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),x(3,"shortName"),f(4,"ya-title-copy",3)),e&2){let t=i,r=d(),m=d();u("queryParams",Y(6,Rr,m.yamcs.context,t)),l(),h(" ",t," "),l(),h("/",y(3,4,r.qualifiedName)," "),l(2),u("text",r.qualifiedName)}}function zr(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,Vr,5,9),x(3,"spaceSystemName"),n(),a(4,"div",0),f(5,"app-parameter-type-detail",1),n()()),e&2){let t,r=i;l(2),_((t=y(3,2,r.qualifiedName))?2:-1,t),l(3),u("parameterType",r)}}var ei=(()=>{let i=class i{constructor(r,m,p){this.yamcs=m,this.title=p,this.ptype$=new P(null),r.paramMap.subscribe(s=>{let g=s.get("qualifiedName");this.changeParameterType(g)})}changeParameterType(r){this.yamcs.yamcsClient.getParameterType(this.yamcs.instance,r).then(m=>{this.ptype$.next(m),this.title.setTitle(m.name)})}};i.\u0275fac=function(m){return new(m||i)(v(H),v(A),v(B))},i.\u0275cmp=w({type:i,selectors:[["ng-component"]],standalone:!0,features:[F],decls:2,vars:3,consts:[[1,"panel-content"],[3,"parameterType"],["routerLink","/mdb/parameter-types",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(m,p){if(m&1&&(c(0,zr,6,4,"app-instance-page"),x(1,"async")),m&2){let s;_((s=y(1,1,p.ptype$))?0:-1,s)}},dependencies:[V,R,Zt,L,q,$,Pe,Q,W],encapsulation:2,changeDetection:0});let e=i;return e})();var Ze=class extends pe{constructor(i){super(),this.yamcs=i,this.parameters$=new P([]),this.totalSize$=new P(0),this.loading$=new P(!1)}connect(){return this.parameters$}loadParameters(i){return this.loading$.next(!0),this.yamcs.yamcsClient.getParameters(this.yamcs.instance,i).then(t=>{this.loading$.next(!1),this.totalSize$.next(t.totalSize),this.parameters$.next(t.parameters||[])})}getAliasNamespaces(){let i=[];for(let t of this.parameters$.value)if(t.alias)for(let r of t.alias)r.namespace&&i.indexOf(r.namespace)===-1&&i.push(r.namespace);return i.sort()}disconnect(){this.parameters$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var Or=["top"],jr=e=>["/mdb/parameters",e],Yr=e=>({c:e});function Hr(e,i){e&1&&(a(0,"th",25),o(1,"Name"),n())}function Ur(e,i){if(e&1&&(a(0,"td",26)(1,"a",27),x(2,"memberPath"),f(3,"ya-highlight",28),x(4,"memberPath"),n()()),e&2){let t=i.$implicit,r=d(2);l(),u("routerLink",S(8,jr,y(2,4,t)))("queryParams",S(10,Yr,r.yamcs.context)),l(2),u("text",y(4,6,t))("term",r.filterForm.value.filter)}}function Qr(e,i){e&1&&(a(0,"th",25),o(1,"Type"),n())}function Wr(e,i){e&1&&(a(0,"span",29),o(1),n()),e&2&&(l(),h(" ",i," "))}function Gr(e,i){e&1&&o(0," - ")}function Kr(e,i){if(e&1&&(a(0,"td",26),c(1,Wr,2,1,"span",29),x(2,"parameterTypeForPath"),c(3,Gr,1,0),n()),e&2){let t,r=i.$implicit;l(),_((t=(t=y(2,1,r))==null?null:t.engType)?1:3,t)}}function Xr(e,i){e&1&&(a(0,"th",25),o(1,"Units"),n())}function Jr(e,i){if(e&1&&(a(0,"td",26),o(1),x(2,"parameterTypeForPath"),x(3,"units"),n()),e&2){let t,r=i.$implicit;l(),h(" ",y(3,3,(t=y(2,1,r))==null?null:t.unitSet)||"-"," ")}}function Zr(e,i){e&1&&(a(0,"th",25),o(1,"Data source"),n())}function el(e,i){if(e&1&&(a(0,"td",26),o(1),x(2,"titlecase"),n()),e&2){let t=i.$implicit;l(),h(" ",y(2,1,t.dataSource)||"-"," ")}}function tl(e,i){e&1&&(a(0,"th",25),o(1,"Description"),n())}function il(e,i){if(e&1&&(a(0,"td",30),o(1),n()),e&2){let t=i.$implicit;l(),h(" ",t.shortDescription||"-"," ")}}function nl(e,i){if(e&1&&(a(0,"th",25),o(1),n()),e&2){let t=d().$implicit;l(),h(" ",t.label," ")}}function al(e,i){if(e&1&&f(0,"ya-highlight",28),e&2){let t=d(4);u("text",i)("term",t.filterForm.value.filter)}}function ol(e,i){e&1&&o(0," - ")}function rl(e,i){if(e&1&&(a(0,"td",26),c(1,al,1,2,"ya-highlight",28),x(2,"alias"),c(3,ol,1,0),n()),e&2){let t,r=i.$implicit,m=d().$implicit;l(),_((t=N(2,1,r,m.id))?1:3,t)}}function ll(e,i){if(e&1&&(b(0,20),c(1,nl,2,1,"th",13)(2,rl,4,4,"td",14),I()),e&2){let t=i.$implicit;u("matColumnDef",t.id)}}function ml(e,i){e&1&&f(0,"th",31)}function pl(e,i){e&1&&f(0,"td",26)}function dl(e,i){e&1&&f(0,"tr",32)}function cl(e,i){if(e&1&&f(0,"tr",33),e&2){let t=i.$implicit,r=d(2);te("selected",r.selection.isSelected(t))}}function sl(e,i){if(e&1&&(a(0,"table",10),b(1,12),c(2,Hr,2,0,"th",13)(3,Ur,5,12,"td",14),I(),b(4,15),c(5,Qr,2,0,"th",13)(6,Kr,4,3,"td",14),I(),b(7,16),c(8,Xr,2,0,"th",13)(9,Jr,4,5,"td",14),I(),b(10,17),c(11,Zr,2,0,"th",13)(12,el,3,3,"td",14),I(),b(13,18),c(14,tl,2,0,"th",13)(15,il,2,1,"td",19),I(),T(16,ll,3,1,"ng-container",20,E),x(18,"async"),b(19,21),c(20,ml,1,0,"th",22)(21,pl,1,0,"td",14),I(),c(22,dl,1,0,"tr",23),x(23,"async"),c(24,cl,1,2,"tr",24),x(25,"async"),n()),e&2){let t=d(),r=le(10);u("dataSource",t.dataSource),l(16),D(y(18,3,t.aliasColumns$)),l(6),u("matHeaderRowDef",y(23,5,r.displayedColumns$)),l(2),u("matRowDefColumns",y(25,7,r.displayedColumns$))}}function _l(e,i){if(e&1&&(a(0,"div",3),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any parameters. "),n()),e&2){let t=d();l(3),C(t.yamcs.instance)}}var ti=(()=>{let i=class i{constructor(r,m,p,s,g){this.yamcs=r,this.route=p,this.router=s,this.messageService=g,this.filterForm=new ut({filter:new oe,type:new oe("ANY"),source:new oe("ANY")}),this.pageSize=100,this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"units",label:"Units",visible:!0},{id:"dataSource",label:"Data source",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}],this.aliasColumns$=new P([]),this.typeOptions=[{id:"ANY",label:"Any type"},{id:"aggregate",label:"aggregate"},{id:"array",label:"array"},{id:"binary",label:"binary"},{id:"boolean",label:"boolean"},{id:"enumeration",label:"enumeration"},{id:"float",label:"float"},{id:"integer",label:"integer"},{id:"string",label:"string"},{id:"time",label:"time"}],this.sourceOptions=[{id:"ANY",label:"Any source"},{id:"COMMAND",label:"Command"},{id:"COMMAND_HISTORY",label:"Command History"},{id:"CONSTANT",label:"Constant"},{id:"DERIVED",label:"Derived"},{id:"EXTERNAL1",label:"External 1"},{id:"EXTERNAL2",label:"External 2"},{id:"EXTERNAL3",label:"External 3"},{id:"GROUND",label:"Ground"},{id:"LOCAL",label:"Local"},{id:"SYSTEM",label:"System"},{id:"TELEMETERED",label:"Telemetered"}],this.selection=new de(!1),m.setTitle("Parameters"),this.dataSource=new Ze(r)}ngAfterViewInit(){let r=this.route.snapshot.queryParamMap;r.has("filter")&&(this.filter=r.get("filter")||"",this.filterForm.get("filter").setValue(this.filter)),r.has("type")&&(this.type=r.get("type"),this.filterForm.get("type").setValue(this.type)),r.has("source")&&(this.source=r.get("source"),this.filterForm.get("source").setValue(this.source)),this.filterForm.get("filter").valueChanges.subscribe(m=>{this.paginator.pageIndex=0,this.filter=m,this.updateDataSource()}),this.filterForm.get("type").valueChanges.forEach(m=>{this.type=m!=="ANY"?m:null,this.updateDataSource()}),this.filterForm.get("source").valueChanges.forEach(m=>{this.source=m!=="ANY"?m:null,this.updateDataSource()}),r.has("page")&&(this.paginator.pageIndex=Number(r.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let r={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize,details:!0};this.filter&&(r.q=this.filter,r.searchMembers=!0),this.type&&(r.type=this.type),this.source&&(r.source=this.source),this.dataSource.loadParameters(r).then(()=>{this.selection.clear();for(let p of this.aliasColumns$.value){let s=this.columns.indexOf(p);s!==-1&&this.columns.splice(s,1)}let m=[];for(let p of this.dataSource.getAliasNamespaces()){let s={id:p,label:p,alwaysVisible:!0};m.push(s)}this.columns.splice(1,0,...m),this.aliasColumns$.next(m),this.columnChooser.recalculate(this.columns)}).catch(m=>this.messageService.showError(m))}updateURL(){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:this.filter||null,type:this.type||null,source:this.source||null},queryParamsHandling:"merge"})}selectNext(){let r=this.dataSource.parameters$.value,m=0;if(this.selection.hasValue()){let p=this.selection.selected[0];r.indexOf(p)!==-1&&(m=Math.min(r.indexOf(p)+1,r.length-1))}this.selection.select(r[m])}selectPrevious(){let r=this.dataSource.parameters$.value,m=0;if(this.selection.hasValue()){let p=this.selection.selected[0];r.indexOf(p)!==-1&&(m=Math.max(r.indexOf(p)-1,0))}this.selection.select(r[m])}applySelection(){if(this.selection.hasValue()){let r=this.selection.selected[0];this.dataSource.parameters$.value.indexOf(r)!==-1&&this.router.navigate(["/mdb/parameters",r.qualifiedName],{queryParams:{c:this.yamcs.context}})}}};i.\u0275fac=function(m){return new(m||i)(v(A),v(B),v(H),v(ae),v(Te))},i.\u0275cmp=w({type:i,selectors:[["ng-component"]],viewQuery:function(m,p){if(m&1&&(z(Or,7),z(U,7),z(K,5)),m&2){let s;O(s=j())&&(p.top=s.first),O(s=j())&&(p.paginator=s.first),O(s=j())&&(p.columnChooser=s.first)}},standalone:!0,features:[F],decls:19,vars:11,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[3,"formGroup"],[1,"filter-bar"],["formControlName","filter","placeholder","Filter parameters",3,"onArrowDown","onArrowUp","onEnter"],["preferenceKey","mdb-parameters",3,"columns"],["formControlName","type",3,"options"],["formControlName","source",3,"options"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","units"],["matColumnDef","dataSource"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap400",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],[1,"mono"],["mat-cell","",1,"wrap400"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(m,p){if(m&1){let s=ie();a(0,"app-instance-page")(1,"app-instance-toolbar"),o(2,"Parameters"),n(),f(3,"span",null,0),a(5,"div",3)(6,"form",4)(7,"div",5)(8,"ya-search-filter",6),ne("onArrowDown",function(){return M(s),k(p.selectNext())})("onArrowUp",function(){return M(s),k(p.selectPrevious())})("onEnter",function(){return M(s),k(p.applySelection())}),n(),f(9,"ya-column-chooser",7,1),n(),a(11,"div",5),f(12,"ya-select",8)(13,"ya-select",9),n()(),c(14,sl,26,9,"table",10),f(15,"mat-paginator",11),x(16,"async"),n(),c(17,_l,5,1,"ng-template",null,2,me),n()}m&2&&(l(6),u("formGroup",p.filterForm),l(3),u("columns",p.columns),l(3),u("options",p.typeOptions),l(),u("options",p.sourceOptions),l(),_(p.dataSource?14:-1),l(),u("pageSize",p.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",y(16,9,p.dataSource.totalSize$)))},dependencies:[V,R,L,q,Me,ft,ce,_t,Ct,xt,$,U,_e,fe,ye,Ce,ue,ve,xe,he,Se,ge,K,Ee,De,Pt,Fe,It,wt,Be],encapsulation:2,changeDetection:0});let e=i;return e})();var ii=(e,i)=>({c:e,filter:i}),ni=e=>["/mdb/parameters",e],Ne=e=>({c:e}),ul=e=>["/mdb/algorithms/",e],fl=e=>["/mdb/containers/",e],ai=e=>["/mdb/parameters/",e];function Cl(e,i){if(e&1&&(a(0,"a",4),o(1),n()),e&2){let t=i,r=d(3);u("queryParams",Y(2,ii,r.yamcs.context,t)),l(),h(" ",t," ")}}function xl(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),C(t.namespace),l(2),C(t.name)}}function hl(e,i){e&1&&(a(0,"span",2),o(1),n()),e&2&&(l(),h(" ",i," "))}function yl(e,i){e&1&&o(0," - ")}function vl(e,i){if(e&1&&f(0,"app-markdown",3),e&2){let t=d(2);u("text",t.longDescription)}}function Sl(e,i){e&1&&o(0," - ")}function gl(e,i){if(e&1&&(a(0,"dl",0)(1,"dt"),o(2,"Entry"),n(),a(3,"dd"),o(4),x(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,Cl,2,5,"a",4),x(10,"spaceSystemName"),n(),T(11,xl,4,2,null,null,E),a(13,"dt"),o(14,"Type"),n(),a(15,"dd"),c(16,hl,2,1,"span",2)(17,yl,1,0),n(),a(18,"dt"),o(19,"Source"),n(),a(20,"dd"),o(21),x(22,"titlecase"),n(),a(23,"dt"),o(24,"Short Description"),n(),a(25,"dd"),o(26),n(),a(27,"dt"),o(28,"Long Description"),n(),a(29,"dd"),c(30,vl,1,1,"app-markdown",3)(31,Sl,1,0),n()()),e&2){let t,r,m=d(),p=d();l(4),ee("",y(5,7,p.parameter.qualifiedName),"",p.offset,""),l(5),_((t=y(10,9,p.parameter.qualifiedName))?9:-1,t),l(2),D(m.alias),l(5),_((r=m.type==null?null:m.type.engType)?16:17,r),l(5),C(y(22,11,p.parameter.dataSource)||"-"),l(5),h(" ",m.shortDescription||"-"," "),l(4),_(m.longDescription?30:31)}}function El(e,i){if(e&1&&(a(0,"dt"),o(1,"Host Parameter"),n(),a(2,"dd")(3,"a",5),o(4),x(5,"shortName"),n()()),e&2){let t=d(2);l(3),u("routerLink",S(5,ni,t.parameter.qualifiedName))("queryParams",S(7,Ne,t.yamcs.context)),l(),h(" ",y(5,3,t.parameter.qualifiedName)," ")}}function Tl(e,i){if(e&1&&(a(0,"dt"),o(1,"Parameter"),n(),a(2,"dd"),o(3),x(4,"shortName"),n()),e&2){let t=d(2);l(3),C(y(4,1,t.parameter.qualifiedName))}}function Dl(e,i){if(e&1&&(a(0,"a",4),o(1),n()),e&2){let t=i,r=d(3);u("queryParams",Y(2,ii,r.yamcs.context,t)),l(),h(" ",t," ")}}function Pl(e,i){if(e&1&&(a(0,"dt"),o(1,"System"),n(),a(2,"dd"),c(3,Dl,2,5,"a",4),x(4,"spaceSystemName"),n()),e&2){let t,r=d(2);l(3),_((t=y(4,1,r.parameter.qualifiedName))?3:-1,t)}}function bl(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),C(t.namespace),l(2),C(t.name)}}function Il(e,i){e&1&&(a(0,"span",2),o(1),n()),e&2&&(l(),h(" ",i," "))}function wl(e,i){e&1&&o(0," - ")}function Fl(e,i){if(e&1&&(a(0,"dt"),o(1,"Signed"),n(),a(2,"dd"),o(3),n()),e&2){let t,r=d(2);l(3),h(" ",(t=r.parameter.type==null?null:r.parameter.type.signed)!==null&&t!==void 0?t:"-"," ")}}function Ll(e,i){if(e&1&&(a(0,"dt"),o(1,"Source"),n(),a(2,"dd"),o(3),x(4,"titlecase"),n()),e&2){let t=d(2);l(3),C(y(4,1,t.parameter.dataSource)||"-")}}function $l(e,i){if(e&1&&f(0,"app-markdown",3),e&2){let t=d(2);u("text",t.parameter.longDescription)}}function Al(e,i){e&1&&o(0," - ")}function Nl(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"Algorithm"),n(),a(3,"td")(4,"a",8),o(5),n()()()),e&2){let t=i.$implicit,r=d(3);l(4),u("routerLink",S(3,ul,t.qualifiedName))("queryParams",S(5,Ne,r.yamcs.context)),l(),h(" ",t.qualifiedName," ")}}function ql(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"Container"),n(),a(3,"td")(4,"a",8),o(5),n()()()),e&2){let t=i.$implicit,r=d(3);l(4),u("routerLink",S(3,fl,t.qualifiedName))("queryParams",S(5,Ne,r.yamcs.context)),l(),h(" ",t.qualifiedName," ")}}function Ml(e,i){if(e&1&&(a(0,"div",6),f(1,"mat-divider"),n(),a(2,"h4"),o(3,"Used By"),n(),a(4,"table",7)(5,"tr")(6,"th"),o(7,"Type"),n(),a(8,"th"),o(9,"Ref"),n()(),T(10,Nl,6,7,"tr",null,E),T(12,ql,6,7,"tr",null,E),n(),a(14,"p"),o(15,"\xA0"),n()),e&2){let t=d();l(10),D(t.usedBy==null?null:t.usedBy.algorithm),l(2),D(t.usedBy==null?null:t.usedBy.container)}}function kl(e,i){if(e&1&&o(0),e&2){let t=d(2);h(" ",t!=null&&t.littleEndian?"Little Endian":"Big Endian"," ")}}function Bl(e,i){e&1&&o(0," - ")}function Rl(e,i){if(e&1&&(a(0,"dt"),o(1,"Byte order"),n(),a(2,"dd"),c(3,kl,1,1)(4,Bl,1,0),n()),e&2){let t=d();l(3),_((t==null?null:t.littleEndian)!==void 0?3:-1),l(),_((t==null?null:t.littleEndian)===void 0?4:-1)}}function Vl(e,i){if(e&1&&(a(0,"div",6),f(1,"mat-divider"),n(),a(2,"h4"),o(3,"Data Encoding"),n(),a(4,"dl",1)(5,"dt"),o(6,"Size in bits"),n(),a(7,"dd"),o(8),x(9,"nvl"),n(),c(10,Rl,5,2),a(11,"dt"),o(12,"Encoding"),n(),a(13,"dd"),o(14),n()()),e&2){let t=i;l(8),C(N(9,3,t==null?null:t.sizeInBits,"-")),l(2),_((t==null?null:t.littleEndian)!==void 0?10:-1),l(4),C((t==null?null:t.encoding)||"-")}}function zl(e,i){if(e&1&&(a(0,"div",6),f(1,"mat-divider"),n(),a(2,"h4"),o(3,"Calibration"),n(),f(4,"app-parameter-calibration",9),a(5,"p"),o(6,"\xA0"),n()),e&2){let t=d();l(4),u("ptype",t.type)}}function Ol(e,i){e&1&&o(0," , ")}function jl(e,i){if(e&1&&(c(0,Ol,1,0),a(1,"a",13),o(2),n(),o(3),x(4,"operator")),e&2){let t=i.$implicit,r=i.$index,m=d(5);_(r!==0?0:-1),l(),u("routerLink",S(8,ai,t.parameter.qualifiedName))("queryParams",S(10,Ne,m.yamcs.context)),l(),h(" ",t.parameter.name," "),l(),ee(" ",y(4,6,t.operator)," ",t.value," ")}}function Yl(e,i){if(e&1&&(a(0,"th"),T(1,jl,5,12,null,null,E),n()),e&2){let t=i.$implicit;l(),D(t.comparison)}}function Hl(e,i){if(e&1&&(f(0,"app-alarm-level",15),o(1)),e&2){let t=i;u("level",t)("grayscale",!0),l(),h(" ",t," ")}}function Ul(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Ql(e,i){if(e&1&&(f(0,"app-alarm-level",15),o(1)),e&2){let t=i;u("level",t)("grayscale",!0),l(),h(" ",t," ")}}function Wl(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Gl(e,i){if(e&1&&(a(0,"td"),c(1,Ql,2,3)(2,Wl,2,0,"span"),n()),e&2){let t,r=i.$implicit,m=d().$implicit,p=d(4);l(),_((t=p.getEnumerationAlarmLevel(r,m))?1:2,t)}}function Kl(e,i){if(e&1&&(a(0,"tr")(1,"td",14),o(2),n(),a(3,"td",14),o(4),n(),a(5,"td"),o(6),n(),a(7,"td"),c(8,Hl,2,3)(9,Ul,2,0,"span"),n(),T(10,Gl,3,1,"td",null,E),n()),e&2){let t,r=i.$implicit,m=d(3),p=d();l(2),C(r.value),l(2),C(r.label),l(2),C(r.description||"-"),l(2),_((t=p.getDefaultAlarmLevel(m.type,r))?8:9,t),l(2),D(m.type.contextAlarm)}}function Xl(e,i){if(e&1&&(a(0,"table",7)(1,"tr")(2,"th",10),o(3,"Value"),n(),a(4,"th",11),o(5,"Label"),n(),a(6,"th",12),o(7,"Description"),n(),a(8,"th"),o(9,"Alarm Level (default)"),n(),T(10,Yl,3,0,"th",null,E),n(),T(12,Kl,12,4,"tr",null,E),n()),e&2){let t=d(2);l(10),D(t.type==null?null:t.type.contextAlarm),l(2),D(t.type==null?null:t.type.enumValue)}}function Jl(e,i){if(e&1&&(a(0,"div",6),f(1,"mat-divider"),n(),a(2,"h4"),o(3,"Enumeration"),n(),c(4,Xl,14,0,"table",7),a(5,"p"),o(6,"\xA0"),n()),e&2){let t=d();l(4),_((t.type==null?null:t.type.engType)==="enumeration"?4:-1)}}function Zl(e,i){if(e&1&&(f(0,"ya-interval",17),x(1,"nvl"),x(2,"nvl")),e&2){let t=d().$implicit;u("left",N(1,5,t.minInclusive,t.minExclusive))("right",N(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function em(e,i){e&1&&o(0," - ")}function tm(e,i){if(e&1&&(a(0,"tr")(1,"td"),f(2,"app-alarm-level",15),o(3),n(),a(4,"td"),c(5,Zl,3,11,"ya-interval",17)(6,em,1,0),n()()),e&2){let t=i.$implicit;l(2),u("level",t.level)("grayscale",!0),l(),h(" ",t.level," "),l(2),_(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function im(e,i){if(e&1&&(a(0,"dl",16)(1,"dt"),o(2,"Min. violations"),n(),a(3,"dd"),o(4),n()(),a(5,"table",7)(6,"tr")(7,"th"),o(8,"Alarm Level (default)"),n(),a(9,"th"),o(10,"Range"),n()(),T(11,tm,7,4,"tr",null,E),n()),e&2){let t=i;l(4),C(t.minViolations),l(7),D(t.staticAlarmRange)}}function nm(e,i){e&1&&(a(0,"p"),o(1,"\xA0"),n())}function am(e,i){if(e&1&&(f(0,"ya-interval",17),x(1,"nvl"),x(2,"nvl")),e&2){let t=d().$implicit;u("left",N(1,5,t.minInclusive,t.minExclusive))("right",N(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function om(e,i){e&1&&o(0," - ")}function rm(e,i){if(e&1&&(a(0,"tr")(1,"td"),f(2,"app-alarm-level",15),o(3),n(),a(4,"td"),c(5,am,3,11,"ya-interval",17)(6,om,1,0),n()()),e&2){let t=i.$implicit;l(2),u("level",t.level)("grayscale",!0),l(),h(" ",t.level," "),l(2),_(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function lm(e,i){if(e&1&&(c(0,nm,2,0,"p"),a(1,"h5"),o(2," Context: "),a(3,"code"),o(4),n()(),a(5,"dl",16)(6,"dt"),o(7,"Min. violations"),n(),a(8,"dd"),o(9),n()(),a(10,"table",7)(11,"tr")(12,"th"),o(13,"Level"),n(),a(14,"th"),o(15,"Range"),n()(),T(16,rm,7,4,"tr",null,E),n()),e&2){let t=i.$implicit,r=i.$index;_(r!==0?0:-1),l(4),C(t.context),l(5),C(t.alarm.minViolations),l(7),D(t.alarm.staticAlarmRange)}}function mm(e,i){if(e&1&&(c(0,im,13,1),T(1,lm,18,3,null,null,E)),e&2){let t,r=d(2);_((t=r.type==null?null:r.type.defaultAlarm)?0:-1,t),l(),D(r.type==null?null:r.type.contextAlarm)}}function pm(e,i){e&1&&o(0," None ")}function dm(e,i){if(e&1&&(a(0,"div",6),f(1,"mat-divider"),n(),a(2,"h4"),o(3,"Alarm Info"),n(),c(4,mm,3,1)(5,pm,1,0),a(6,"p"),o(7,"\xA0"),n()),e&2){let t=d();l(4),_(t.type!=null&&t.type.defaultAlarm||t.type!=null&&t.type.contextAlarm?4:5)}}function cm(e,i){if(e&1&&(a(0,"dt"),o(1,"Epoch"),n(),a(2,"dd"),o(3),n()),e&2){let t=d(2);l(3),C(t.type==null?null:t.type.absoluteTimeInfo.epoch)}}function sm(e,i){if(e&1&&(a(0,"dt"),o(1,"Offset from"),n(),a(2,"dd")(3,"a",5),o(4),n()()),e&2){let t=d(2),r=d();l(3),u("routerLink",S(3,ai,t.type==null?null:t.type.absoluteTimeInfo.offsetFrom.qualifiedName))("queryParams",S(5,Ne,r.yamcs.context)),l(),h(" ",t.type==null?null:t.type.absoluteTimeInfo.offsetFrom.qualifiedName," ")}}function _m(e,i){if(e&1&&(a(0,"dt"),o(1,"Offset"),n(),a(2,"dd"),o(3),n()),e&2){let t=d(2);l(3),C(t.type==null?null:t.type.absoluteTimeInfo.offset)}}function um(e,i){if(e&1&&(a(0,"dt"),o(1,"Scale"),n(),a(2,"dd"),o(3),n()),e&2){let t=d(2);l(3),C(t.type==null?null:t.type.absoluteTimeInfo.scale)}}function fm(e,i){if(e&1&&(a(0,"dt"),o(1,"Initial Value"),n(),a(2,"dd"),o(3),n()),e&2){let t=d(2);l(3),C(t.type==null?null:t.type.absoluteTimeInfo.initialValue)}}function Cm(e,i){if(e&1&&(a(0,"div",6),f(1,"mat-divider"),n(),a(2,"h4"),o(3,"Time Info"),n(),a(4,"dl",16),c(5,cm,4,1)(6,sm,5,7)(7,_m,4,1)(8,um,4,1)(9,fm,4,1),n()),e&2){let t=d();l(5),_(t.type!=null&&t.type.absoluteTimeInfo.epoch?5:-1),l(),_(t.type!=null&&t.type.absoluteTimeInfo.offsetFrom?6:-1),l(),_((t.type==null?null:t.type.absoluteTimeInfo.offset)!==void 0?7:-1),l(),_((t.type==null?null:t.type.absoluteTimeInfo.scale)!==void 0?8:-1),l(),_((t.type==null?null:t.type.absoluteTimeInfo.initialValue)!==void 0?9:-1)}}function xm(e,i){e&1&&(a(0,"span",2),o(1),n()),e&2&&(l(),h(" ",i," "))}function hm(e,i){e&1&&o(0," - ")}function ym(e,i){if(e&1&&(a(0,"td")(1,"a",8),o(2),n()(),a(3,"td"),c(4,xm,2,1,"span",2),x(5,"entryForOffset"),c(6,hm,1,0),n(),a(7,"td"),o(8),x(9,"entryForOffset"),n()),e&2){let t,r,m=i,p=d().$implicit,s=d(3);l(),u("routerLink",S(11,ni,s.parameter.qualifiedName+m))("queryParams",S(13,Ne,s.yamcs.context)),l(),h(" ",p.name," "),l(2),_((t=(t=N(5,5,s.parameter,m))==null||t.type==null?null:t.type.engType)?4:6,t),l(4),C(((r=N(9,8,s.parameter,m))==null?null:r.shortDescription)||"-")}}function vm(e,i){if(e&1&&(a(0,"tr"),c(1,ym,10,15),n()),e&2){let t,r=i.$implicit,m=d(3);l(),_((t=(m.offset||"")+"."+r.name)?1:-1,t)}}function Sm(e,i){if(e&1&&(a(0,"div",6),f(1,"mat-divider"),n(),a(2,"h4"),o(3,"Members"),n(),a(4,"table",7)(5,"tr")(6,"th"),o(7,"Member"),n(),a(8,"th"),o(9,"Type"),n(),a(10,"th"),o(11,"Description"),n()(),T(12,vm,2,1,"tr",null,E),n()),e&2){let t=d();l(12),D(t.type==null?null:t.type.member)}}function gm(e,i){if(e&1&&(c(0,gl,32,13,"dl",0),a(1,"dl",1),c(2,El,6,9)(3,Tl,5,3)(4,Pl,5,3),T(5,bl,4,2,null,null,E),a(7,"dt"),o(8,"Type"),n(),a(9,"dd"),c(10,Il,2,1,"span",2)(11,wl,1,0),n(),c(12,Fl,4,1)(13,Ll,5,3),a(14,"dt"),o(15,"Short Description"),n(),a(16,"dd"),o(17),n(),a(18,"dt"),o(19,"Long Description"),n(),a(20,"dd"),c(21,$l,1,1,"app-markdown",3)(22,Al,1,0),n()(),c(23,Ml,16,0)(24,Vl,15,6)(25,zl,7,1)(26,Jl,7,1)(27,dm,8,1)(28,Cm,10,5)(29,Sm,14,0)),e&2){let t,r,m=i,p=d();_(p.offset?0:-1),l(),te("no-lead",!p.offset),l(),_(p.offset?2:-1),l(),_(p.offset?-1:3),l(),_(p.offset?-1:4),l(),D(p.parameter.alias),l(5),_((t=p.parameter.type==null?null:p.parameter.type.engType)?10:11,t),l(2),_((p.parameter.type==null?null:p.parameter.type.signed)!==void 0?12:-1),l(),_(p.offset?-1:13),l(4),h(" ",p.parameter.shortDescription||"-"," "),l(4),_(p.parameter.longDescription?21:22),l(2),_(m.usedBy!=null&&m.usedBy.algorithm||m.usedBy!=null&&m.usedBy.container?23:-1),l(),_((r=m.type==null?null:m.type.dataEncoding)?24:-1,r),l(),_((m.type==null?null:m.type.engType)==="integer"||(m.type==null?null:m.type.engType)==="float"?25:-1),l(),_((m.type==null?null:m.type.engType)==="enumeration"?26:-1),l(),_((m.type==null?null:m.type.engType)==="integer"||(m.type==null?null:m.type.engType)==="float"?27:-1),l(),_((m.type==null?null:m.type.engType)==="time"?28:-1),l(),_((m.type==null?null:m.type.engType)==="aggregate"?29:-1)}}var oi=(()=>{let i=class i{constructor(r){this.yamcs=r,this.entry$=new P(null)}ngOnChanges(){if(this.parameter)if(this.offset){let r=Dt.getEntryForOffset(this.parameter,this.offset);this.entry$.next(r)}else this.entry$.next(this.parameter);else this.entry$.next(null)}getDefaultAlarmLevel(r,m){if(r&&r.defaultAlarm){let p=r.defaultAlarm;if(p.enumerationAlarm){for(let s of p.enumerationAlarm)if(s.label===m.label)return s.level}}}getEnumerationAlarmLevel(r,m){let p=r.alarm;for(let s of p.enumerationAlarm)if(s.label===m.label)return s.level}};i.\u0275fac=function(m){return new(m||i)(v(A))},i.\u0275cmp=w({type:i,selectors:[["app-parameter-detail"]],inputs:{parameter:"parameter",offset:"offset"},standalone:!0,features:[st,F],decls:2,vars:3,consts:[[1,"dl-horizontal","no-lead","no-trail"],[1,"dl-horizontal","no-trail"],[1,"mono"],[3,"text"],["routerLink","/mdb/parameters",1,"ya-link",3,"queryParams"],[1,"ya-link",3,"routerLink","queryParams"],[1,"section-divider"],["yaDataTable",""],[3,"routerLink","queryParams"],[3,"ptype"],[2,"width","50px"],[2,"width","100px"],[2,"width","300px"],[1,"secundary",3,"routerLink","queryParams"],[2,"white-space","nowrap"],[3,"level","grayscale"],[1,"dl-horizontal"],[3,"left","right","leftInclusive","rightInclusive","outside"]],template:function(m,p){if(m&1&&(c(0,gm,30,18),x(1,"async")),m&2){let s;_((s=y(1,1,p.entry$))?0:-1,s)}},dependencies:[Ve,be,Je,L,q,Me,$,Z,se,Le,bt,$e,Ae,Q,W],styles:["[_nghost-%COMP%]{font:400 12px/20px Roboto,sans-serif}.dl-horizontal[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{text-align:left}"],changeDetection:0});let e=i;return e})();var Em=(e,i)=>({c:e,filter:i});function Tm(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),x(3,"shortName"),x(4,"async"),f(5,"ya-title-copy",3),x(6,"async")),e&2){let t=i,r=d(),m=d();u("queryParams",Y(11,Em,m.yamcs.context,t)),l(),h(" ",t," "),l(),ee("/",y(3,5,r.qualifiedName),"",y(4,7,m.offset$)," "),l(3),u("text",r.qualifiedName+(y(6,9,m.offset$)||""))}}function Dm(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,Tm,7,14),x(3,"spaceSystemName"),n(),a(4,"div",0),f(5,"app-parameter-detail",1),x(6,"async"),n()()),e&2){let t,r=i,m=d();l(2),_((t=y(3,3,r.qualifiedName))?2:-1,t),l(3),u("parameter",r)("offset",y(6,5,m.offset$))}}var ri=(()=>{let i=class i{constructor(r,m,p){this.yamcs=m,this.title=p,this.parameter$=new P(null),this.offset$=new P(null),r.paramMap.subscribe(s=>{let g=s.get("qualifiedName");this.changeParameter(g)})}changeParameter(r){this.yamcs.yamcsClient.getParameter(this.yamcs.instance,r).then(m=>{this.parameter$.next(m);let p;r!==m.qualifiedName?p=r.substring(m.qualifiedName.length):p=null,this.offset$.next(p),this.title.setTitle(m.name+(p||""))})}};i.\u0275fac=function(m){return new(m||i)(v(H),v(A),v(B))},i.\u0275cmp=w({type:i,selectors:[["ng-component"]],standalone:!0,features:[F],decls:2,vars:3,consts:[[1,"panel-content"],[3,"parameter","offset"],["routerLink","/mdb/parameters",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(m,p){if(m&1&&(c(0,Dm,7,7,"app-instance-page"),x(1,"async")),m&2){let s;_((s=y(1,1,p.parameter$))?0:-1,s)}},dependencies:[V,R,oi,L,q,$,Pe,Q,W],styles:[".tab-content-wrapper[_ngcontent-%COMP%]{position:absolute;inset:49px 0 0;overflow:auto}.tab-content-wrapper.noscroll[_ngcontent-%COMP%]{overflow:hidden}"],changeDetection:0});let e=i;return e})();var cd=[{path:"",canActivate:[nt,it,lt],canActivateChild:[at,lt],component:$t,children:[{path:"",pathMatch:"full",component:Wt},{path:"algorithms",pathMatch:"full",component:Mt},{path:"algorithms/:qualifiedName",component:Bt},{path:"commands",pathMatch:"full",component:Rt},{path:"commands/:qualifiedName",component:Ot},{path:"containers",pathMatch:"full",component:Yt},{path:"containers/:qualifiedName",component:Qt},{path:"parameters",pathMatch:"full",component:ti},{path:"parameters/:qualifiedName",component:ri},{path:"parameter-types",pathMatch:"full",component:Gt},{path:"parameter-types/:qualifiedName",component:ei},{path:"ext",canActivate:[nt,it],canActivateChild:[at],runGuardsAndResolvers:"always",children:[{path:":extension",component:Lt}]}]}];export{cd as ROUTES};
