"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([[18],{6018:(zt,C,l)=>{l.r(C),l.d(C,{ActivitiesModule:()=>Bt});var L=l(4421),m=l(1896),F=l(664),U=l(1293),Q=l(9295),w=l(8337),u=l(6223),o=l(6516),g=l(5619),Y=l(3620);class ${constructor(s){this.watermarkObserver=s,this.dirty=!1,this.archiveActivities=[],this.bufferSize=500,this.bufferWatermark=400,this.pointer=0,this.alreadyWarned=!1,this.realtimeBuffer=Array(this.bufferSize).fill(void 0)}addArchiveData(s){this.archiveActivities=this.archiveActivities.concat(s),this.dirty=!0}addRealtimeActivity(s){this.pointer<this.bufferSize&&(this.realtimeBuffer[this.pointer]=s,this.pointer>=this.bufferWatermark&&this.watermarkObserver&&!this.alreadyWarned&&(this.alreadyWarned=!0,this.watermarkObserver()),this.pointer=this.pointer+1),this.dirty=!0}reset(){this.archiveActivities=[],this.realtimeBuffer.fill(void 0),this.pointer=0,this.alreadyWarned=!1,this.dirty=!0}snapshot(){const s=this.archiveActivities;return this.realtimeBuffer.map(i=>{if(!i)return;const a=s.findIndex(n=>n.id==i.id);-1===a?s.push(i):s[a]=i}),s.sort((i,a)=>{let n=-i.start.localeCompare(a.start);return 0!==n?n:a.seq-i.seq}),s}compact(s){const i=this.snapshot();i.length=Math.min(s,i.length),this.reset(),this.archiveActivities=i,this.dirty=!0}}class R extends w.o2{constructor(s,i){super(),this.yamcs=s,this.pageSize=100,this.blockHasMore=!1,this.activities$=new g.X([]),this.loading$=new g.X(!1),this.streaming$=new g.X(!1),this.syncSubscription=i.sync(()=>{this.buffer.dirty&&!this.loading$.getValue()&&(this.emitActivities(),this.buffer.dirty=!1)}),this.buffer=new $(()=>{this.blockHasMore=!0,this.buffer.compact(500)})}connect(s){return this.activities$}emitActivities(){const s=this.buffer.snapshot();this.activities$.next(s)}loadActivities(s){return this.loading$.next(!0),Promise.all([this.loadPage({...s,limit:this.pageSize})]).then(i=>{const a=i[0];return this.loading$.next(!1),this.buffer.reset(),this.blockHasMore=!1,this.buffer.addArchiveData(a),this.emitActivities(),a})}hasMore(){return!!this.continuationToken&&!this.blockHasMore}loadPage(s){return this.options=s,this.yamcs.yamcsClient.getActivities(this.yamcs.instance,s).then(i=>(this.continuationToken=i.continuationToken,i.activities||[]))}loadMoreData(s){this.continuationToken&&this.loadPage({...s,next:this.continuationToken,limit:this.pageSize}).then(i=>{this.buffer.addArchiveData(i)})}startStreaming(){this.streaming$.next(!0),this.realtimeSubscription=this.yamcs.yamcsClient.createActivitySubscription({instance:this.yamcs.instance},s=>{!this.loading$.getValue()&&this.matchesFilter(s)&&this.buffer.addRealtimeActivity(s)})}matchesFilter(s){return!(this.options&&(this.options.type&&s.type!==this.options.type||this.options.status&&s.status!==this.options.status||this.options.q&&(!s.detail||-1===s.detail.indexOf(this.options.q))))}stopStreaming(){this.realtimeSubscription?.cancel(),this.streaming$.next(!1)}disconnect(s){this.stopStreaming(),this.syncSubscription?.unsubscribe(),this.activities$.complete(),this.loading$.complete(),this.streaming$.complete()}}var E=l(5861),v=l(7700),t=l(5879);let P=(()=>{class e{constructor(i,a,n,c){this.dialogRef=i,this.data=c,this.form=a.group({failureReason:["",[u.kI.required]]})}submit(){var i=this;return(0,E.Z)(function*(){i.dialogRef.close({failureReason:i.form.value.failureReason})})()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(v.so),t.Y36(u.QS),t.Y36(o.C8),t.Y36(v.WI))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-set-failed-dialog"]],decls:13,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"ya-form",3,"formGroup"],["type","text","formControlName","failureReason"],["filename",""],["align","end"],["mat-dialog-close","",1,"ya-button"],[1,"ya-button","primary",3,"disabled","click"]],template:function(a,n){if(1&a&&(t.TgZ(0,"h2",0),t._uU(1,"Set failed"),t.qZA(),t.TgZ(2,"mat-dialog-content",1)(3,"form",2)(4,"label"),t._uU(5," Failure reason "),t._UZ(6,"input",3,4),t.qZA()()(),t.TgZ(8,"mat-dialog-actions",5)(9,"button",6),t._uU(10,"CANCEL"),t.qZA(),t.TgZ(11,"button",7),t.NdJ("click",function(){return n.submit()}),t._uU(12,"SUBMIT"),t.qZA()()),2&a){let c;t.xp6(3),t.Q6J("formGroup",n.form),t.xp6(1),t.ekj("invalid",null==(c=n.form.get("name"))?null:c.invalid),t.xp6(7),t.Q6J("disabled",!n.form.valid)}},dependencies:[u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,v.ZT,v.uh,v.xY,v.H8],encapsulation:2})}return e})();var M=l(5394),H=l(6593),h=l(6814),Z=l(4643),x=l(2296),A=l(617),G=l(7988),f=l(9538),B=l(1274),q=l(2596),O=l(2755),N=l(1237);let V=(()=>{class e{constructor(){this.synchronizer=(0,t.f3M)(o.jF),this.elapsed$=new g.X(0)}ngOnChanges(){this.syncSubscription?.unsubscribe(),this.activity&&(this.updateState(),this.activity.stop||(this.syncSubscription=this.synchronizer.sync(()=>this.updateState())))}updateState(){if(!this.activity.start)return;const i=new Date(this.activity.start);if(this.activity.stop){const a=new Date(this.activity.stop);this.elapsed$.next(this.millisBetween(i,a))}else{const a=this.millisBetween(i,new Date);this.elapsed$.next(a)}}millisBetween(i,a){return a.getTime()-i.getTime()}ngOnDestroy(){this.syncSubscription?.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||e)};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-activity-duration"]],inputs:{activity:"activity"},features:[t.TTD],decls:3,vars:5,template:function(a,n){1&a&&(t._uU(0),t.ALo(1,"duration"),t.ALo(2,"async")),2&a&&t.Oqu(t.lcZ(1,1,t.lcZ(2,3,n.elapsed$)))},dependencies:[h.Ov,o.uG],encapsulation:2,changeDetection:0})}return e})();function j(e,s){if(1&e&&(t.TgZ(0,"mat-icon",5),t._uU(1," check_circle\n"),t.qZA()),2&e){const i=t.oxw();t.Q6J("matTooltip",i.activity.status)}}function z(e,s){if(1&e&&(t.TgZ(0,"mat-icon",6),t._uU(1," cached\n"),t.qZA()),2&e){const i=t.oxw();t.Q6J("matTooltip",i.activity.status)}}function K(e,s){if(1&e&&(t.TgZ(0,"mat-icon",7),t._uU(1," highlight_off\n"),t.qZA()),2&e){const i=t.oxw();t.Q6J("matTooltip",i.activity.status)}}function X(e,s){if(1&e&&(t.TgZ(0,"mat-icon",8),t._uU(1," cached\n"),t.qZA()),2&e){const i=t.oxw();t.Q6J("matTooltip",i.activity.status)}}function W(e,s){if(1&e&&(t.TgZ(0,"mat-icon",9),t._uU(1," stop_circle\n"),t.qZA()),2&e){const i=t.oxw();t.Q6J("matTooltip",i.activity.status)}}let tt=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-activity-status"]],inputs:{activity:"activity"},decls:5,vars:5,consts:[["class","success",3,"matTooltip",4,"ngIf"],["class","spin",3,"matTooltip",4,"ngIf"],["class","alert",3,"matTooltip",4,"ngIf"],["class","warning spin",3,"matTooltip",4,"ngIf"],["class","down",3,"matTooltip",4,"ngIf"],[1,"success",3,"matTooltip"],[1,"spin",3,"matTooltip"],[1,"alert",3,"matTooltip"],[1,"warning","spin",3,"matTooltip"],[1,"down",3,"matTooltip"]],template:function(a,n){1&a&&(t.YNc(0,j,2,1,"mat-icon",0),t.YNc(1,z,2,1,"mat-icon",1),t.YNc(2,K,2,1,"mat-icon",2),t.YNc(3,X,2,1,"mat-icon",3),t.YNc(4,W,2,1,"mat-icon",4)),2&a&&(t.Q6J("ngIf","SUCCESSFUL"===n.activity.status),t.xp6(1),t.Q6J("ngIf","RUNNING"===n.activity.status),t.xp6(1),t.Q6J("ngIf","FAILED"===n.activity.status),t.xp6(1),t.Q6J("ngIf","CANCELLED"===n.activity.status&&!n.activity.stop),t.xp6(1),t.Q6J("ngIf","CANCELLED"===n.activity.status&&n.activity.stop))},dependencies:[h.O5,A.Hw,q.gM],encapsulation:2,changeDetection:0})}return e})();const it=["intervalSelect"];function et(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.cancelSelectedActivities())}),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA(),t._uU(3," Cancel "),t.qZA()}if(2&e){const i=t.oxw();t.Q6J("disabled",!i.isGroupCancelEnabled())}}function at(e,s){if(1&e){const i=t.EpF();t.ynx(0),t._UZ(1,"ya-date-time-input",38)(2,"ya-date-time-input",39),t.TgZ(3,"button",36),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.applyCustomDates())}),t._uU(4,"Apply"),t.qZA(),t.BQk()}if(2&e){const i=t.oxw();t.xp6(3),t.Q6J("disabled",i.filterForm.invalid)}}function st(e,s){if(1&e){const i=t.EpF();t.ynx(0),t.TgZ(1,"button",40),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.jumpToNow())}),t._uU(2," Jump to now "),t.qZA(),t.BQk()}}function nt(e,s){1&e&&t._UZ(0,"ya-dots")}function ct(e,s){if(1&e&&(t.TgZ(0,"span"),t._uU(1," Showing activities from "),t.TgZ(2,"b"),t._uU(3,"the last hour"),t.qZA(),t._uU(4," ending at "),t.TgZ(5,"b"),t._uU(6),t.ALo(7,"datetime"),t.qZA(),t._uU(8," (Mission Time) "),t.qZA()),2&e){const i=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,1,i.validStop))}}function ot(e,s){if(1&e&&(t.TgZ(0,"span"),t._uU(1," Showing activities from "),t.TgZ(2,"b"),t._uU(3,"the last 6 hours"),t.qZA(),t._uU(4," ending at "),t.TgZ(5,"b"),t._uU(6),t.ALo(7,"datetime"),t.qZA(),t._uU(8," (Mission Time) "),t.qZA()),2&e){const i=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,1,i.validStop))}}function lt(e,s){if(1&e&&(t.TgZ(0,"span"),t._uU(1," Showing activities from "),t.TgZ(2,"b"),t._uU(3,"the last 24 hours"),t.qZA(),t._uU(4," ending at "),t.TgZ(5,"b"),t._uU(6),t.ALo(7,"datetime"),t.qZA(),t._uU(8," (Mission Time) "),t.qZA()),2&e){const i=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,1,i.validStop))}}function rt(e,s){1&e&&(t.TgZ(0,"span"),t._uU(1," Showing activities from "),t.TgZ(2,"b"),t._uU(3,"all time"),t.qZA()())}function ut(e,s){if(1&e&&(t.TgZ(0,"span"),t._uU(1," Showing activities from "),t.TgZ(2,"b"),t._uU(3),t.ALo(4,"datetime"),t.qZA(),t._uU(5," to "),t.TgZ(6,"b"),t._uU(7),t.ALo(8,"datetime"),t.qZA(),t._uU(9," (Mission Time) "),t.qZA()),2&e){const i=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,2,i.validStart)),t.xp6(4),t.Oqu(t.lcZ(8,4,i.validStop))}}function pt(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"th",41)(1,"input",42),t.NdJ("change",function(n){t.CHM(i);const c=t.oxw();return t.KtG(n?c.masterToggle():null)}),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.hasValue()&&i.isAllSelected())}}function ht(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"td",43)(1,"input",44),t.NdJ("click",function(n){return n.stopPropagation()})("change",function(n){const r=t.CHM(i).$implicit,p=t.oxw();return t.KtG(n?p.selection.toggle(r):null)}),t.qZA()()}if(2&e){const i=s.$implicit,a=t.oxw();t.xp6(1),t.Q6J("checked",a.selection.isSelected(i))}}function dt(e,s){1&e&&t._UZ(0,"th",45)}function mt(e,s){if(1&e&&(t.TgZ(0,"td",46),t._UZ(1,"app-activity-status",47),t.qZA()),2&e){const i=s.$implicit;t.xp6(1),t.Q6J("activity",i)}}function gt(e,s){1&e&&(t.TgZ(0,"th",48),t._uU(1,"Id"),t.qZA())}const ft=function(e){return{c:e}};function _t(e,s){if(1&e&&(t.TgZ(0,"td",49)(1,"a",50),t._uU(2),t.qZA()()),2&e){const i=s.$implicit,a=t.oxw();t.xp6(1),t.Q6J("routerLink",i.id)("matTooltip",i.id)("queryParams",t.VKq(4,ft,a.yamcs.context)),t.xp6(1),t.hij(" ",i.id.substring(0,8)," ")}}function vt(e,s){1&e&&(t.TgZ(0,"th",48),t._uU(1,"Start"),t.qZA())}function yt(e,s){if(1&e&&(t.TgZ(0,"td",51),t._uU(1),t.ALo(2,"datetime"),t.qZA()),2&e){const i=s.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,i.start)," ")}}function At(e,s){1&e&&(t.TgZ(0,"th",48),t._uU(1,"Type"),t.qZA())}function Tt(e,s){if(1&e&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&e){const i=s.$implicit;t.xp6(1),t.hij(" ",i.type," ")}}function Zt(e,s){1&e&&(t.TgZ(0,"th",48),t._uU(1,"Detail"),t.qZA())}function xt(e,s){if(1&e&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&e){const i=s.$implicit;t.xp6(1),t.hij(" ",i.detail||"-"," ")}}function bt(e,s){1&e&&(t.TgZ(0,"th",48),t._uU(1,"Duration"),t.qZA())}function St(e,s){if(1&e&&t._UZ(0,"app-activity-duration",47),2&e){const i=t.oxw().$implicit;t.Q6J("activity",i)}}function Ct(e,s){1&e&&(t.ynx(0),t._uU(1,"-"),t.BQk())}function Ut(e,s){if(1&e&&(t.TgZ(0,"td",51),t.YNc(1,St,1,1,"app-activity-duration",52),t.YNc(2,Ct,2,0,"ng-container",11),t.qZA()),2&e){const i=s.$implicit;t.xp6(1),t.Q6J("ngIf",i.start),t.xp6(1),t.Q6J("ngIf",!i.start)}}function wt(e,s){1&e&&t._UZ(0,"th",53)}function Pt(e,s){if(1&e&&(t.TgZ(0,"span",56),t._uU(1),t.qZA()),2&e){const i=s.ngIf;t.xp6(1),t.hij(" ",i," ")}}function Mt(e,s){if(1&e){const i=t.EpF();t.ynx(0),t.TgZ(1,"button",40),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,c=t.oxw();return t.KtG(c.setSuccessful(n))}),t.TgZ(2,"mat-icon"),t._uU(3,"thumb_up"),t.qZA(),t._uU(4," Set successful "),t.qZA(),t._uU(5," \xa0 "),t.TgZ(6,"button",40),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,c=t.oxw();return t.KtG(c.setFailed(n))}),t.TgZ(7,"mat-icon"),t._uU(8,"thumb_down"),t.qZA(),t._uU(9," Set failed "),t.qZA(),t.BQk()}}function qt(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"td",51)(1,"ya-more")(2,"button",54),t.NdJ("click",function(){const c=t.CHM(i).$implicit,r=t.oxw();return t.KtG(r.cancelActivity(c))}),t._uU(3," Cancel "),t.qZA()(),t.YNc(4,Pt,2,1,"span",55),t.YNc(5,Mt,10,0,"ng-container",11),t.qZA()}if(2&e){const i=s.$implicit,a=t.oxw();t.xp6(2),t.Q6J("disabled",void 0!==i.stop||!a.mayControlActivities()),t.xp6(2),t.Q6J("ngIf",i.failureReason),t.xp6(1),t.Q6J("ngIf","MANUAL"===i.type&&"RUNNING"===i.status&&a.mayControlActivities())}}function Ot(e,s){1&e&&t._UZ(0,"tr",57)}function Nt(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"tr",58),t.NdJ("click",function(){const c=t.CHM(i).$implicit,r=t.oxw();return t.KtG(r.toggleOne(c))}),t.qZA()}if(2&e){const i=s.$implicit,a=t.oxw();t.ekj("selected",a.selection.isSelected(i))}}const T="NO_LIMIT";let I=(()=>{class e{constructor(i,a,n,c,r,p,_,Vt){this.yamcs=i,this.authService=a,this.router=n,this.route=c,this.messageService=_,this.dialog=Vt,this.filterForm=new u.nJ({status:new u.p4([]),filter:new u.p4,type:new u.p4([]),interval:new u.p4(T),customStart:new u.p4(null),customStop:new u.p4(null)}),this.columns=[{id:"select",label:"",alwaysVisible:!0},{id:"status",label:"Status",alwaysVisible:!0},{id:"id",label:"Id",alwaysVisible:!0},{id:"start",label:"Start",visible:!0},{id:"type",label:"Type",visible:!0},{id:"detail",label:"Detail",visible:!0},{id:"duration",label:"Duration",visible:!0},{id:"actions",label:"",alwaysVisible:!0}],this.typeOptions$=new g.X([{id:"MANUAL",label:"Manual",icon:"emoji_people"}]),this.statusOptions$=new g.X([{id:"RUNNING",label:"Running",icon:"cached"},{id:"SUCCESSFUL",label:"Successful",icon:"check_circle"},{id:"CANCELLED",label:"Cancelled",icon:"stop_circle"},{id:"FAILED",label:"Failed",icon:"highlight_off"}]),this.intervalOptions=[{id:"PT1H",label:"Last hour"},{id:"PT6H",label:"Last 6 hours"},{id:"P1D",label:"Last 24 hours"},{id:"NO_LIMIT",label:"No limit"},{id:"CUSTOM",label:"Custom",group:!0}],this.status=[],this.type=[],this.selection=new w.Ov(!0,[]),this.tableTrackerFn=(d,y)=>y.id,r.setTitle("Activities"),i.yamcsClient.getExecutors(i.instance).then(d=>{for(const y of d)this.typeOptions$.next([...this.typeOptions$.value,{id:y.type,label:y.displayName,icon:y.icon||"new_label"}])}),this.dataSource=new R(i,p),this.dataSource.startStreaming(),this.initializeOptions(),this.loadData(),this.filterForm.get("filter").valueChanges.pipe((0,Y.b)(400)).forEach(d=>{this.filter=d,this.loadData()}),this.filterForm.get("status").valueChanges.forEach(d=>{this.status=d,this.loadData()}),this.filterForm.get("type").valueChanges.forEach(d=>{this.type=d,this.loadData()}),this.filterForm.get("interval").valueChanges.forEach(d=>{if("CUSTOM"===d){const y=this.validStart||this.yamcs.getMissionTime(),jt=this.validStop||this.yamcs.getMissionTime();this.filterForm.get("customStart").setValue(o.P6.toISOString(y)),this.filterForm.get("customStop").setValue(o.P6.toISOString(jt))}else"NO_LIMIT"===d?(this.validStart=null,this.validStop=null,this.appliedInterval=d,this.loadData()):(this.validStop=i.getMissionTime(),this.validStart=o.P6.subtractDuration(this.validStop,d),this.appliedInterval=d,this.loadData())})}initializeOptions(){const i=this.route.snapshot.queryParamMap;if(i.has("filter")&&(this.filter=i.get("filter")||"",this.filterForm.get("filter").setValue(this.filter)),i.has("status")&&(this.type=i.getAll("status"),this.filterForm.get("status").setValue(this.status)),i.has("type")&&(this.type=i.getAll("type"),this.filterForm.get("type").setValue(this.type)),i.has("interval"))if(this.appliedInterval=i.get("interval"),this.filterForm.get("interval").setValue(this.appliedInterval),"CUSTOM"===this.appliedInterval){const a=i.get("customStart");this.filterForm.get("customStart").setValue(a),this.validStart=o.P6.toDate(a);const n=i.get("customStop");this.filterForm.get("customStop").setValue(n),this.validStop=o.P6.toDate(n)}else"NO_LIMIT"===this.appliedInterval?(this.validStart=null,this.validStop=null):(this.validStop=this.yamcs.getMissionTime(),this.validStart=o.P6.subtractDuration(this.validStop,this.appliedInterval));else this.appliedInterval=T,this.validStop=null,this.validStart=null}jumpToNow(){const i=this.filterForm.value.interval;"NO_LIMIT"===i||"CUSTOM"===i?this.filterForm.get("interval").setValue(T):(this.validStop=this.yamcs.getMissionTime(),this.validStart=o.P6.subtractDuration(this.validStop,i),this.loadData())}applyCustomDates(){this.validStart=o.P6.toDate(this.filterForm.value.customStart),this.validStop=o.P6.toDate(this.filterForm.value.customStop),this.appliedInterval="CUSTOM",this.loadData()}loadData(){this.updateURL();const i={};this.validStart&&(i.start=this.validStart.toISOString()),this.validStop&&(i.stop=this.validStop.toISOString()),this.filter&&(i.q=this.filter),this.status.length&&(i.status=this.status),this.type.length&&(i.type=this.type),this.dataSource.loadActivities(i)}loadMoreData(){const i={};this.validStart&&(i.start=this.validStart.toISOString()),this.status&&(i.status=this.status),this.filter&&(i.q=this.filter),this.dataSource.loadMoreData(i)}updateURL(){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{filter:this.filter||null,status:this.type.length?this.status:null,type:this.type.length?this.type:null,interval:this.appliedInterval,customStart:"CUSTOM"===this.appliedInterval?this.filterForm.value.customStart:null,customStop:"CUSTOM"===this.appliedInterval?this.filterForm.value.customStop:null},queryParamsHandling:"merge"})}mayControlActivities(){return this.authService.getUser().hasSystemPrivilege("ControlActivities")}isAllSelected(){return!1}masterToggle(){}toggleOne(i){(!this.selection.isSelected(i)||this.selection.selected.length>1)&&this.selection.clear(),this.selection.toggle(i)}isGroupCancelEnabled(){for(const i of this.selection.selected)if(!i.stop)return!0;return!1}cancelSelectedActivities(){for(const i of this.selection.selected)this.cancelActivity(i)}cancelActivity(i){this.yamcs.yamcsClient.cancelActivity(this.yamcs.instance,i.id).catch(a=>this.messageService.showError(a))}setSuccessful(i){this.yamcs.yamcsClient.completeManualActivity(this.yamcs.instance,i.id).catch(a=>this.messageService.showError(a))}setFailed(i){this.dialog.open(P,{width:"400px",data:{activity:i}}).afterClosed().subscribe(a=>{a&&this.yamcs.yamcsClient.completeManualActivity(this.yamcs.instance,i.id,{failureReason:a.failureReason}).catch(n=>this.messageService.showError(n))})}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(o.C8),t.Y36(M.e),t.Y36(m.F0),t.Y36(m.gz),t.Y36(H.Dx),t.Y36(o.jF),t.Y36(o.ez),t.Y36(v.uw))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(a,n){if(1&a&&t.Gf(it,5),2&a){let c;t.iGM(c=t.CRH())&&(n.intervalSelect=c.first)}},decls:61,vars:30,consts:[["mat-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"panel-content"],[3,"formGroup"],[1,"filter-bar"],["formControlName","filter","placeholder","Filter by text search"],["preferenceKey","activities",3,"columns"],["columnChooser",""],["formControlName","status","emptyOption","Any status",3,"options"],["formControlName","type","emptyOption","Any type",3,"options"],["icon","access_time","formControlName","interval",3,"options"],["intervalSelect",""],[4,"ngIf"],[1,"table-status",3,"ngSwitch"],[4,"ngSwitchCase"],["mat-table","",1,"ya-data-table","expand",3,"dataSource","trackBy"],["cdkColumnDef","select"],["mat-header-cell","","class","checkbox",4,"cdkHeaderCellDef"],["mat-cell","","class","checkbox",4,"cdkCellDef"],["matColumnDef","status"],["mat-header-cell","","class","status",4,"matHeaderCellDef"],["mat-cell","","class","status",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","mono",4,"matCellDef"],["matColumnDef","start"],["mat-cell","",4,"matCellDef"],["cdkColumnDef","type"],["mat-header-cell","",4,"cdkHeaderCellDef"],["mat-cell","",4,"cdkCellDef"],["cdkColumnDef","detail"],["cdkColumnDef","duration"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],[2,"flex","1 1 auto"],[1,"ya-button",3,"disabled","click"],["mat-button","","color","primary",3,"disabled","click"],["formControlName","customStart"],["formControlName","customStop"],[1,"ya-button",3,"click"],["mat-header-cell","",1,"checkbox"],["type","checkbox",3,"checked","change"],["mat-cell","",1,"checkbox"],["type","checkbox",3,"checked","click","change"],["mat-header-cell","",1,"status"],["mat-cell","",1,"status"],[3,"activity"],["mat-header-cell",""],["mat-cell","",1,"mono"],[3,"routerLink","matTooltip","queryParams"],["mat-cell",""],[3,"activity",4,"ngIf"],["mat-header-cell","",1,"expand"],["mat-menu-item","",3,"disabled","click"],["class","alert",4,"ngIf"],[1,"alert"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(a,n){if(1&a&&(t.TgZ(0,"app-instance-page")(1,"app-instance-toolbar"),t._uU(2," Activities \xa0\xa0\xa0 "),t.YNc(3,et,4,1,"button",0),t.qZA(),t.TgZ(4,"div",1)(5,"form",2)(6,"div",3),t._UZ(7,"ya-search-filter",4)(8,"ya-column-chooser",5,6),t.qZA(),t.TgZ(10,"div",3),t._UZ(11,"ya-multi-select",7),t.ALo(12,"async"),t._UZ(13,"ya-multi-select",8),t.ALo(14,"async"),t._UZ(15,"ya-select",9,10),t.YNc(17,at,5,1,"ng-container",11),t.YNc(18,st,3,0,"ng-container",11),t.YNc(19,nt,1,0,"ya-dots",11),t.ALo(20,"async"),t.qZA()(),t.TgZ(21,"div",12),t.YNc(22,ct,9,3,"span",13),t.YNc(23,ot,9,3,"span",13),t.YNc(24,lt,9,3,"span",13),t.YNc(25,rt,4,0,"span",13),t.YNc(26,ut,10,6,"span",13),t.qZA(),t.TgZ(27,"table",14),t.ynx(28,15),t.YNc(29,pt,2,1,"th",16),t.YNc(30,ht,2,1,"td",17),t.BQk(),t.ynx(31,18),t.YNc(32,dt,1,0,"th",19),t.YNc(33,mt,2,1,"td",20),t.BQk(),t.ynx(34,21),t.YNc(35,gt,2,0,"th",22),t.YNc(36,_t,3,6,"td",23),t.BQk(),t.ynx(37,24),t.YNc(38,vt,2,0,"th",22),t.YNc(39,yt,3,3,"td",25),t.BQk(),t.ynx(40,26),t.YNc(41,At,2,0,"th",27),t.YNc(42,Tt,2,1,"td",28),t.BQk(),t.ynx(43,29),t.YNc(44,Zt,2,0,"th",27),t.YNc(45,xt,2,1,"td",28),t.BQk(),t.ynx(46,30),t.YNc(47,bt,2,0,"th",27),t.YNc(48,Ut,3,2,"td",28),t.BQk(),t.ynx(49,31),t.YNc(50,wt,1,0,"th",32),t.YNc(51,qt,6,3,"td",25),t.BQk(),t.YNc(52,Ot,1,0,"tr",33),t.ALo(53,"async"),t.YNc(54,Nt,1,2,"tr",34),t.ALo(55,"async"),t.qZA(),t.TgZ(56,"mat-toolbar"),t._UZ(57,"span",35),t.TgZ(58,"button",36),t.NdJ("click",function(){return n.loadMoreData()}),t._uU(59,"Load More"),t.qZA(),t._UZ(60,"span",35),t.qZA()()()),2&a){const c=t.MAs(9);t.xp6(3),t.Q6J("ngIf",n.mayControlActivities()),t.xp6(2),t.Q6J("formGroup",n.filterForm),t.xp6(3),t.Q6J("columns",n.columns),t.xp6(3),t.Q6J("options",t.lcZ(12,20,n.statusOptions$)),t.xp6(2),t.Q6J("options",t.lcZ(14,22,n.typeOptions$)),t.xp6(2),t.Q6J("options",n.intervalOptions),t.xp6(2),t.Q6J("ngIf","CUSTOM"===n.filterForm.value.interval),t.xp6(1),t.Q6J("ngIf","CUSTOM"!==n.filterForm.value.interval),t.xp6(1),t.Q6J("ngIf",t.lcZ(20,24,n.dataSource.loading$)),t.xp6(2),t.Q6J("ngSwitch",n.appliedInterval),t.xp6(1),t.Q6J("ngSwitchCase","PT1H"),t.xp6(1),t.Q6J("ngSwitchCase","PT6H"),t.xp6(1),t.Q6J("ngSwitchCase","P1D"),t.xp6(1),t.Q6J("ngSwitchCase","NO_LIMIT"),t.xp6(1),t.Q6J("ngSwitchCase","CUSTOM"),t.xp6(1),t.Q6J("dataSource",n.dataSource)("trackBy",n.tableTrackerFn),t.xp6(25),t.Q6J("matHeaderRowDef",t.lcZ(53,26,c.displayedColumns$)),t.xp6(2),t.Q6J("matRowDefColumns",t.lcZ(55,28,c.displayedColumns$)),t.xp6(4),t.Q6J("disabled",!n.dataSource.hasMore())}},dependencies:[h.O5,h.RF,h.n9,u._Y,u.JJ,u.JL,u.sg,u.u,m.rH,Z.O_,Z.D5,Z.fo,x.lW,A.Hw,G.OP,f.BZ,f.fO,f.as,f.w1,f.Dz,f.nj,f.ge,f.ev,f.XQ,f.Gk,B.Ye,q.gM,o.b8,o.t,o.Zy,o.cQ,o.OP,o.cF,o.Hr,O.a,N.k,V,tt,h.Ov,o.id],encapsulation:2,changeDetection:0})}return e})();var It=l(6385);function kt(e,s){if(1&e&&(t.ynx(0),t._uU(1),t.ALo(2,"deltaWith"),t.BQk()),2&e){const i=t.oxw().ngIf;t.xp6(1),t.hij(" (",t.xi3(2,1,i.stop,i.start),") ")}}function Dt(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"dt"),t._uU(2),t.qZA(),t.TgZ(3,"dd"),t._uU(4),t.qZA(),t.BQk()),2&e){const i=s.$implicit;t.xp6(2),t.hij("\xa0\xa0",i.key,""),t.xp6(2),t.Oqu(i.value)}}function Jt(e,s){if(1&e&&(t.TgZ(0,"div",1)(1,"dl",2)(2,"dt"),t._uU(3,"Activity ID"),t.qZA(),t.TgZ(4,"dd"),t._uU(5),t.qZA(),t.TgZ(6,"dt"),t._uU(7,"Status"),t.qZA(),t.TgZ(8,"dd"),t._uU(9),t.qZA(),t.TgZ(10,"dt"),t._uU(11,"Started"),t.qZA(),t.TgZ(12,"dd"),t._uU(13),t.ALo(14,"datetime"),t.qZA(),t.TgZ(15,"dt"),t._uU(16,"Finished"),t.qZA(),t.TgZ(17,"dd"),t._uU(18),t.ALo(19,"datetime"),t.YNc(20,kt,3,4,"ng-container",3),t.qZA(),t.TgZ(21,"dt"),t._uU(22,"User"),t.qZA(),t.TgZ(23,"dd"),t._uU(24),t.qZA()(),t.TgZ(25,"div",4),t._UZ(26,"mat-divider"),t.qZA(),t.TgZ(27,"dl",5)(28,"dt"),t._uU(29,"Activity type"),t.qZA(),t.TgZ(30,"dd"),t._uU(31),t.qZA(),t.TgZ(32,"dt"),t._uU(33,"Arguments"),t.qZA(),t._UZ(34,"dd"),t.YNc(35,Dt,5,2,"ng-container",6),t.ALo(36,"keyvalue"),t.qZA()()),2&e){const i=s.ngIf;let a;t.xp6(5),t.Oqu(i.id),t.xp6(4),t.Oqu(i.status),t.xp6(4),t.Oqu(t.lcZ(14,8,i.start)),t.xp6(5),t.hij(" ",null!==(a=t.lcZ(19,10,i.stop))&&void 0!==a?a:"-"," "),t.xp6(2),t.Q6J("ngIf",i.stop),t.xp6(4),t.Oqu(i.startedBy),t.xp6(7),t.Oqu(i.type),t.xp6(4),t.Q6J("ngForOf",t.lcZ(36,12,i.args))}}let k=(()=>{class e{constructor(i,a,n){this.yamcs=a,this.activity$=new g.X(null);const c=i.parent.snapshot.paramMap.get("activityId");a.yamcsClient.getActivity(a.instance,c).then(r=>{this.activity$.next(r)}).catch(r=>n.showError(r))}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(m.gz),t.Y36(o.C8),t.Y36(o.ez))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:2,vars:3,consts:[["class","panel-content",4,"ngIf"],[1,"panel-content"],[1,"dl-horizontal","no-lead"],[4,"ngIf"],[1,"section-divider"],[1,"dl-horizontal"],[4,"ngFor","ngForOf"]],template:function(a,n){1&a&&(t.YNc(0,Jt,37,14,"div",0),t.ALo(1,"async")),2&a&&t.Q6J("ngIf",t.lcZ(1,1,n.activity$))},dependencies:[h.sg,h.O5,It.d,h.Ov,h.Nd,o.id,o.mX],encapsulation:2,changeDetection:0})}return e})();const Lt=["logContainer"],Ft=["top"],Qt=["bottom"];function Yt(e,s){if(1&e&&(t.TgZ(0,"tr")(1,"td",10),t._uU(2),t.qZA(),t.TgZ(3,"td",11),t._uU(4),t.ALo(5,"datetime"),t.qZA(),t.TgZ(6,"td",12),t._uU(7),t.qZA()()),2&e){const i=s.$implicit,a=s.index;t.ekj("activity","ACTIVITY"===i.source)("service","SERVICE"===i.source)("WARNING","WARNING"===i.level)("ERROR","ERROR"===i.level),t.xp6(2),t.Oqu(a+1),t.xp6(2),t.hij(" [",t.xi3(5,11,i.time,!1),"] "),t.xp6(3),t.Oqu(i.message)}}let D=(()=>{class e{constructor(i,a,n,c){this.yamcs=a,this.archivedLogs=[],this.realtimeLogs=[],this.logs$=new g.X([]),this.dirty$=new g.X(!1);const r=i.parent.snapshot.paramMap.get("activityId");this.activityLogSubscription=a.yamcsClient.createActivityLogSubscription({instance:a.instance,activity:r},p=>{for(const _ of this.archivedLogs)if(p.time===_.time&&p.level===_.level&&p.message===_.message&&p.source===_.source)return;this.realtimeLogs.push(p),this.dirty$.next(!0)}),a.yamcsClient.getActivityLog(a.instance,r).then(p=>{this.archivedLogs=p,this.emitLogs()}).catch(p=>n.showError(p)),this.syncSubscription=c.syncFast(()=>{this.dirty$.value&&(this.emitLogs(),this.dirty$.next(!1))})}emitLogs(){if(this.logs$.next([...this.archivedLogs,...this.realtimeLogs]),this.logContainer){const{nativeElement:i}=this.logContainer;Math.abs(i.scrollHeight-i.clientHeight-i.scrollTop)<=1&&setTimeout(()=>{this.bottomAnchor.nativeElement.scrollIntoView()})}}ngOnDestroy(){this.activityLogSubscription?.cancel(),this.syncSubscription?.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(m.gz),t.Y36(o.C8),t.Y36(o.ez),t.Y36(o.jF))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(a,n){if(1&a&&(t.Gf(Lt,5),t.Gf(Ft,5),t.Gf(Qt,5)),2&a){let c;t.iGM(c=t.CRH())&&(n.logContainer=c.first),t.iGM(c=t.CRH())&&(n.topAnchor=c.first),t.iGM(c=t.CRH())&&(n.bottomAnchor=c.first)}},decls:18,vars:3,consts:[[1,"log-actions"],[1,"ya-button",3,"click"],[1,"log-container"],["logContainer",""],[1,"top"],["top",""],[1,"logs","mono",2,"width","100%"],[3,"activity","service","WARNING","ERROR",4,"ngFor","ngForOf"],[1,"bottom"],["bottom",""],["width","1",2,"text-align","right"],["width","1",1,"time",2,"white-space","nowrap"],[1,"message"]],template:function(a,n){if(1&a){const c=t.EpF();t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){t.CHM(c);const p=t.MAs(12);return t.KtG(p.scrollIntoView())}),t.TgZ(2,"mat-icon"),t._uU(3,"vertical_align_top"),t.qZA(),t._uU(4," Jump to top "),t.qZA(),t.TgZ(5,"button",1),t.NdJ("click",function(){t.CHM(c);const p=t.MAs(17);return t.KtG(p.scrollIntoView())}),t.TgZ(6,"mat-icon"),t._uU(7,"vertical_align_bottom"),t.qZA(),t._uU(8," Jump to bottom "),t.qZA()(),t.TgZ(9,"div",2,3),t._UZ(11,"div",4,5),t.TgZ(13,"table",6),t.YNc(14,Yt,8,14,"tr",7),t.ALo(15,"async"),t.qZA(),t._UZ(16,"div",8,9),t.qZA()}2&a&&(t.xp6(14),t.Q6J("ngForOf",t.lcZ(15,1,n.logs$)))},dependencies:[h.sg,A.Hw,h.Ov,o.id],styles:[".log-container[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12);position:absolute;inset:48px 0 0;overflow:auto;padding-left:12px}.log-actions[_ngcontent-%COMP%]{height:24px;margin:12px;display:flex}.log-actions[_ngcontent-%COMP%]   .ya-button[_ngcontent-%COMP%]{margin-right:7px}.extra-bar-container[_ngcontent-%COMP%]{padding:12px;border-bottom:1.1px solid rgba(0,0,0,.08)}.extra-bar[_ngcontent-%COMP%]{height:24px;line-height:24px}.separator[_ngcontent-%COMP%]{border-right:1px solid rgba(0,0,0,.12)}table.logs[_ngcontent-%COMP%]{line-height:12px}table.logs[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;color:#000000a7;vertical-align:top}table.logs[_ngcontent-%COMP%]   td.time[_ngcontent-%COMP%]{opacity:.8}table.logs[_ngcontent-%COMP%]   tr.service[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700}table.logs[_ngcontent-%COMP%]   td.message[_ngcontent-%COMP%]{white-space:pre-wrap}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{visibility:hidden;line-height:0}"],changeDetection:0})}return e})();var b=l(4104);function $t(e,s){if(1&e){const i=t.EpF();t.ynx(0),t.TgZ(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().ngIf,c=t.oxw();return t.KtG(c.setSuccessful(n))}),t.TgZ(2,"mat-icon"),t._uU(3,"thumb_up"),t.qZA(),t._uU(4," Set successful "),t.qZA(),t.TgZ(5,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().ngIf,c=t.oxw();return t.KtG(c.setFailed(n))}),t.TgZ(6,"mat-icon"),t._uU(7,"thumb_down"),t.qZA(),t._uU(8," Set failed "),t.qZA(),t.BQk()}}function Rt(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().ngIf,c=t.oxw();return t.KtG(c.cancelActivity(n))}),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA(),t._uU(3," Cancel "),t.qZA()}if(2&e){const i=t.oxw().ngIf;t.Q6J("disabled",!!i.stop)}}const S=function(e){return{c:e}};function Et(e,s){if(1&e&&(t.TgZ(0,"app-instance-page")(1,"app-instance-toolbar")(2,"a",1)(3,"mat-icon"),t._uU(4,"arrow_back"),t.qZA()(),t._uU(5," Activity details \xa0\xa0\xa0 "),t.YNc(6,$t,9,0,"ng-container",0),t.YNc(7,Rt,4,1,"button",2),t.qZA(),t.TgZ(8,"div",3)(9,"div",4)(10,"span",5),t._uU(11),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"span",6),t._uU(14),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"span",6),t._uU(17),t.ALo(18,"datetime"),t.qZA(),t._UZ(19,"br"),t.qZA(),t.TgZ(20,"div",7)(21,"ya-label"),t._uU(22),t.qZA()()(),t.TgZ(23,"nav",8,9)(25,"a",10,11),t._uU(27," Activity Log "),t.qZA(),t.TgZ(28,"a",12,13),t._uU(30," Details "),t.qZA()(),t.TgZ(31,"div",14)(32,"mat-tab-nav-panel",null,15),t._UZ(34,"router-outlet"),t.qZA()()()),2&e){const i=s.ngIf,a=t.MAs(26),n=t.MAs(29),c=t.MAs(33),r=t.oxw();t.xp6(2),t.Q6J("queryParams",t.VKq(15,S,r.yamcs.context)),t.xp6(4),t.Q6J("ngIf","MANUAL"===i.type&&"RUNNING"===i.status&&r.mayControlActivities()),t.xp6(1),t.Q6J("ngIf",r.mayControlActivities()),t.xp6(4),t.Oqu(i.detail),t.xp6(3),t.hij("ID: ",i.id,""),t.xp6(3),t.hij("Started ",t.lcZ(18,13,i.start),""),t.xp6(5),t.Oqu(i.status),t.xp6(1),t.Q6J("mat-stretch-tabs",!1)("tabPanel",c),t.xp6(2),t.Q6J("active",a.isActive)("queryParams",t.VKq(17,S,r.yamcs.context)),t.xp6(3),t.Q6J("active",n.isActive)("queryParams",t.VKq(19,S,r.yamcs.context))}}const Ht=[{path:"",canActivate:[U.r,F._],canActivateChild:[U.q],runGuardsAndResolvers:"always",component:Q.K,children:[{path:"",pathMatch:"full",component:I},{path:":activityId",component:(()=>{class e{constructor(i,a,n,c,r){this.yamcs=a,this.messageService=n,this.authService=c,this.dialog=r,this.activity$=new g.X(null);const p=i.snapshot.paramMap.get("activityId");a.yamcsClient.getActivity(a.instance,p).then(_=>{this.activity$.next(_)}).catch(_=>n.showError(_))}mayControlActivities(){return this.authService.getUser().hasSystemPrivilege("ControlActivities")}setSuccessful(i){this.yamcs.yamcsClient.completeManualActivity(this.yamcs.instance,i.id).then(a=>this.activity$.next(a)).catch(a=>this.messageService.showError(a))}setFailed(i){this.dialog.open(P,{width:"400px",data:{activity:i}}).afterClosed().subscribe(a=>{a&&this.yamcs.yamcsClient.completeManualActivity(this.yamcs.instance,i.id,{failureReason:a.failureReason}).then(n=>this.activity$.next(n)).catch(n=>this.messageService.showError(n))})}cancelActivity(i){this.yamcs.yamcsClient.cancelActivity(this.yamcs.instance,i.id).catch(a=>this.messageService.showError(a))}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(m.gz),t.Y36(o.C8),t.Y36(o.ez),t.Y36(M.e),t.Y36(v.uw))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"],["mat-icon-button","","routerLink","..","color","primary",3,"queryParams"],["mat-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"activity-header"],[1,"activity-header-left"],[1,"title"],[1,"subtitle"],[1,"activity-header-right"],["mat-tab-nav-bar","",1,"secondary",3,"mat-stretch-tabs","tabPanel"],["tabs",""],["mat-tab-link","","routerLink","log","routerLinkActive","",3,"active","queryParams"],["rla","routerLinkActive"],["mat-tab-link","","routerLink","details","routerLinkActive","",3,"active","queryParams"],["rlb","routerLinkActive"],[1,"tab-content-wrapper"],["tabPanel",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"disabled","click"]],template:function(a,n){1&a&&(t.YNc(0,Et,35,21,"app-instance-page",0),t.ALo(1,"async")),2&a&&t.Q6J("ngIf",t.lcZ(1,1,n.activity$))},dependencies:[h.O5,m.lC,m.rH,m.Od,x.lW,x.o6,A.Hw,b.BU,b.sW,b.Nj,o._n,O.a,N.k,h.Ov,o.id],styles:[".activity-header[_ngcontent-%COMP%]{height:100px;border-bottom:1px solid rgba(0,0,0,.1);display:flex}.activity-header-left[_ngcontent-%COMP%]{flex:1 1 auto;align-self:center;margin-left:24px;margin-right:24px}.activity-header-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:larger}.activity-header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:smaller;color:gray}.activity-header-right[_ngcontent-%COMP%]{flex:1 1 auto;align-self:center;text-align:right;margin-left:24px;margin-right:24px}.tab-content-wrapper[_ngcontent-%COMP%]{position:absolute;inset:137px 0 0;overflow:auto}.tab-content-wrapper.noscroll[_ngcontent-%COMP%]{overflow:hidden}"],changeDetection:0})}return e})(),children:[{path:"",pathMatch:"full",redirectTo:"log"},{path:"log",component:D},{path:"details",component:k}]}]}];let Gt=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#i=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(Ht),m.Bz]})}return e})(),Bt=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#i=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[L.m,Gt]})}return e})()}}]);